<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2024-09-27 Fri 16:49 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Pandas</title>
<meta name="author" content="Yung-Chin Yen" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" type="text/css" href="../css/muse.css" />
<script src="../css/copy_code.js"></script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Pandas</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org8a068da">1. 簡介</a>
<ul>
<li><a href="#org7c8faa9">1.1. Pandas</a></li>
<li><a href="#org4ad25ed">1.2. Pandas 資料結構</a></li>
</ul>
</li>
<li><a href="#org0903ff2">2. Series</a>
<ul>
<li><a href="#org03dee86">2.1. 建立: 資料類型可為 array, dictionary</a></li>
<li><a href="#org9d70596">2.2. 資料篩選</a></li>
</ul>
</li>
<li><a href="#org0a60d75">3. DataFrame</a>
<ul>
<li><a href="#org28b5da6">3.1. DataFrame 建立</a></li>
<li><a href="#org817130f">3.2. 由 Dictionary 建立</a></li>
<li><a href="#org016ae55">3.3. 由 Array 建立</a></li>
<li><a href="#org84d5d6b">3.4. 讀入外部資料檔來建立 Dataframe</a></li>
</ul>
</li>
<li><a href="#org829f84a">4. DataFrame 的資料瀏覽</a>
<ul>
<li><a href="#org84dcdc7">4.1. 基本函數</a></li>
<li><a href="#org700e720">4.2. DataFrame 資料排序</a></li>
<li><a href="#org11254d1">4.3. DataFrame 處理遺漏值</a></li>
<li><a href="#org66a85d7">4.4. [課堂練習]&#xa0;&#xa0;&#xa0;<span class="tag"><span class="TNFSH">TNFSH</span></span></a></li>
</ul>
</li>
<li><a href="#orgdf9cdd5">5. Dataframe 的選取與過濾</a>
<ul>
<li><a href="#orgac30acb">5.1. 資料選取: Select column(s)</a></li>
<li><a href="#org288ee86">5.2. 資料選取: Select using index (row)</a></li>
<li><a href="#orgb28039d">5.3. 條件式選取資料</a></li>
<li><a href="#orgbb2e676">5.4. 進階條件過濾[loc/iloc]</a></li>
</ul>
</li>
<li><a href="#org080b69d">6. 進階分析</a>
<ul>
<li><a href="#orgfe54059">6.1. 由其他 column 產生新的 column(重要、實用)</a></li>
<li><a href="#org5e8809e">6.2. 交叉分析：分組與資料轉置</a></li>
<li><a href="#org0ac24fd">6.3. 資料檔下載: file:scores.csv</a></li>
</ul>
</li>
<li><a href="#orgcffce5f">7. 資料視覺化</a>
<ul>
<li><a href="#org82a5f0c">7.1. Bar chart</a></li>
<li><a href="#org93b0a8e">7.2. Regression line chart</a></li>
<li><a href="#org44058e8">7.3. Pie chart</a></li>
<li><a href="#orga98c722">7.4. Scatter chart</a></li>
<li><a href="#orge74e393">7.5. Haxbin chart</a></li>
</ul>
</li>
<li><a href="#orgde953d8">8. [課堂練習]&#xa0;&#xa0;&#xa0;<span class="tag"><span class="TNFSH">TNFSH</span></span></a>
<ul>
<li><a href="#org9e82a6d">8.1. 403期中考得分統計</a></li>
<li><a href="#orgcf3ceea">8.2. 進階練習</a></li>
</ul>
</li>
<li><a href="#org366ad08">9. 教學影片</a></li>
</ul>
</div>
</div>
<a href="https://hits.sh/letranger.github.io/PythonCourse/Pandas.html/"><img align="right" alt="Hits" src="https://hits.sh/letranger.github.io/PythonCourse/Pandas.html.svg"/></a>
<div id="outline-container-org8a068da" class="outline-2">
<h2 id="org8a068da"><span class="section-number-2">1.</span> 簡介</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org7c8faa9" class="outline-3">
<h3 id="org7c8faa9"><span class="section-number-3">1.1.</span> Pandas</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li>建構於 NumPy 之上分析模組，適合處理表格資料或異質資料。<br /></li>
<li>於 2009 年底開源出來，提供高效能、簡易使用的資料格式(Data Frame，為 R 語言主要資料格式)，可以讓使用者可以快速操作及分析資料。<br /></li>
<li>Pandas 強化了資料處理的方便性也能與處理網頁資料與資料庫資料等，有點類似於Office 的 Excel，能更加方便的進行運算、分析等<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>。<br /></li>
<li>Pandas 主要特色有<sup><a id="fnr.2" class="footref" href="#fn.2" role="doc-backlink">2</a></sup>：<br />
<ol class="org-ol">
<li>在異質數據的讀取、轉換和處理上，都讓分析人員更容易處理，例如：從列欄試算表中找到想要的值。<br /></li>
<li>Pandas 提供兩種主要的資料結構，Series 與 DataFrame。Series 顧名思義就是用來處理時間序列相關的資料(如感測器資料等)，主要為建立索引的一維陣列。DataFrame 則是用來處理結構化(Table like)的資料，有列索引與欄標籤的二維資料集，例如關聯式資料庫、CSV 等等。<br /></li>
<li>透過載入至 Pandas 的資料結構物件後，可以透過結構化物件所提供的方法，來快速地進行資料的前處理，如資料補值，空值去除或取代等。<br /></li>
<li>更多的輸入來源及輸出整合性，例如：可以從資料庫讀取資料進入 Dataframe，也可將處理完的資料存回資料庫。<br /></li>
</ol></li>
</ul>
</div>
<div id="outline-container-orgbf4c101" class="outline-4">
<h4 id="orgbf4c101"><span class="section-number-4">1.1.1.</span> CSV</h4>
<div class="outline-text-4" id="text-1-1-1">
<ul class="org-ul">
<li>Comma-Separated Values, 為純文字檔，以逗號分隔值，有時也稱為字元分隔值，因為分隔字元也可以不是逗號）。<br /></li>
<li>純文字意味著該檔案是一個字元序列，不含必須像二進位制數字那樣被解讀的資料。<br /></li>
<li>CSV 檔案由任意數目的記錄組成，記錄間以某種換行符分隔；每條記錄由欄位組成，欄位間的分隔符是其它字元或字串，最常見的是逗號。<br /></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org4ad25ed" class="outline-3">
<h3 id="org4ad25ed"><span class="section-number-3">1.2.</span> Pandas 資料結構</h3>
<div class="outline-text-3" id="text-1-2">
<p>
Pandas 兩類資料結構<sup><a id="fnr.3" class="footref" href="#fn.3" role="doc-backlink">3</a></sup><sup>, </sup><sup><a id="fnr.2.100" class="footref" href="#fn.2" role="doc-backlink">2</a></sup>:<br />
</p>
<ol class="org-ol">
<li>Series: 用來處理時間序列相關的資料(如感測器資料等)，主要為建立索引的一維陣列。<br /></li>
<li>DataFrame: 是一個二維標籤資料結構，可以具有不同類型的行（column），類似 Excel的資料表，對於有使用過統計軟體的分析人員應該不陌生。簡單來說，Series 可以想像為一行多列（row）的資料，而 DataFrame 是多行多列的資料，藉由選擇索引（列標籤）和行（行標籤）的參數來操作資料，就像使用統計軟體透過樣本編號或變項名稱來操作資料。<br /></li>
</ol>

<p>
Series與DataFrame的差異可由圖<a href="#org7d4da97">1</a>看出<sup><a id="fnr.4" class="footref" href="#fn.4" role="doc-backlink">4</a></sup>:<br />
</p>

<div id="org7d4da97" class="figure">
<p><img src="images/簡介/2024-09-15_17-09-32_dataframe_series-e1711596564546.png" alt="2024-09-15_17-09-32_dataframe_series-e1711596564546.png" width="300" /><br />
</p>
<p><span class="figure-number">Figure 1: </span>Series v.s. Dataframe</p>
</div>
</div>
</div>
</div>
<div id="outline-container-org0903ff2" class="outline-2">
<h2 id="org0903ff2"><span class="section-number-2">2.</span> Series</h2>
<div class="outline-text-2" id="text-2">
<p>
一維資料(表格中的一欄)，類似numpy中的vector，但可以儲存任何類型的數據，包括整數、浮點數、字串等等。<br />
</p>
</div>
<div id="outline-container-org03dee86" class="outline-3">
<h3 id="org03dee86"><span class="section-number-3">2.1.</span> 建立: 資料類型可為 array, dictionary</h3>
<div class="outline-text-3" id="text-2-1">
</div>
<div id="outline-container-orgf16e6d8" class="outline-4">
<h4 id="orgf16e6d8"><span class="section-number-4">2.1.1.</span> 由 array 建立 Series</h4>
<div class="outline-text-4" id="text-2-1-1">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span><span style="color: #51afef;">import</span> pandas <span style="color: #51afef;">as</span> pd
<span class="linenr">2: </span>
<span class="linenr">3: </span><span style="color: #dcaeea;">cars</span> = [<span style="color: #98be65;">"SAAB"</span>, <span style="color: #98be65;">"Audi"</span>, <span style="color: #98be65;">"BMW"</span>, <span style="color: #98be65;">"BENZ"</span>, <span style="color: #98be65;">"Toyota"</span>, <span style="color: #98be65;">"Nissan"</span>, <span style="color: #98be65;">"Lexus"</span>]
<span class="linenr">4: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"&#36039;&#26009;&#22411;&#21029;:"</span>, <span style="color: #c678dd;">type</span>(cars))
<span class="linenr">5: </span><span style="color: #dcaeea;">carsToSeries</span> = pd.Series(cars)
<span class="linenr">6: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"&#36039;&#26009;&#22411;&#21029;:"</span>, <span style="color: #c678dd;">type</span>(carsToSeries))
<span class="linenr">7: </span><span style="color: #c678dd;">print</span>(carsToSeries.shape)
<span class="linenr">8: </span><span style="color: #c678dd;">print</span>(carsToSeries)
<span class="linenr">9: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"carsToSeries[1]: "</span>, carsToSeries[<span style="color: #da8548; font-weight: bold;">1</span>])
</pre>
</div>

<pre class="example" id="org3bd61dc">
資料型別: &lt;class 'list'&gt;
資料型別: &lt;class 'pandas.core.series.Series'&gt;
(7,)
0      SAAB
1      Audi
2       BMW
3      BENZ
4    Toyota
5    Nissan
6     Lexus
dtype: object
Audi
</pre>
</div>
</div>
</div>
<div id="outline-container-org9d70596" class="outline-3">
<h3 id="org9d70596"><span class="section-number-3">2.2.</span> 資料篩選</h3>
<div class="outline-text-3" id="text-2-2">
</div>
<div id="outline-container-org4781786" class="outline-4">
<h4 id="org4781786"><span class="section-number-4">2.2.1.</span> 由dict來建立pandas.Series()</h4>
<div class="outline-text-4" id="text-2-2-1">
<p>
就是把dict的key當成index<br />
</p>
<div class="org-src-container">
<pre class="src src-python"><span class="linenr"> 1: </span><span style="color: #51afef;">import</span> pandas <span style="color: #51afef;">as</span> pd
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #c678dd;">dict</span> = {
<span class="linenr"> 4: </span>    <span style="color: #98be65;">"city"</span>: <span style="color: #98be65;">"Kaohsiung"</span>,
<span class="linenr"> 5: </span>    <span style="color: #98be65;">"speedCamera1"</span>: <span style="color: #98be65;">"13213"</span>,
<span class="linenr"> 6: </span>    <span style="color: #98be65;">"speedCamera2"</span>: <span style="color: #98be65;">"3242"</span>,
<span class="linenr"> 7: </span>    <span style="color: #98be65;">"speedCamera3"</span>: <span style="color: #98be65;">"134343"</span>,
<span class="linenr"> 8: </span>    <span style="color: #98be65;">"speedCamera4"</span>: <span style="color: #98be65;">"4312"</span>,
<span class="linenr"> 9: </span>    <span style="color: #98be65;">"speedCamera5"</span>: <span style="color: #98be65;">"533"</span>
<span class="linenr">10: </span>}
<span class="linenr">11: </span>
<span class="linenr">12: </span><span style="color: #dcaeea;">dictToSeries</span> = pd.Series(<span style="color: #c678dd;">dict</span>, index = <span style="color: #c678dd;">dict</span>.keys()) <span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#25490;&#24207;&#33287;&#21407; dict &#30456;&#21516;</span>
<span class="linenr">13: </span><span style="color: #c678dd;">print</span>(dictToSeries[<span style="color: #da8548; font-weight: bold;">0</span>])
<span class="linenr">14: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"====="</span>)
<span class="linenr">15: </span><span style="color: #c678dd;">print</span>(dictToSeries[<span style="color: #98be65;">'speedCamera1'</span>])
<span class="linenr">16: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"====="</span>)
<span class="linenr">17: </span><span style="color: #c678dd;">print</span>(dictToSeries[[<span style="color: #da8548; font-weight: bold;">0</span>, <span style="color: #da8548; font-weight: bold;">2</span>, <span style="color: #da8548; font-weight: bold;">4</span>]])
<span class="linenr">18: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"====="</span>)
<span class="linenr">19: </span><span style="color: #c678dd;">print</span>(dictToSeries[[<span style="color: #98be65;">'city'</span>, <span style="color: #98be65;">'speedCamera1'</span>, <span style="color: #98be65;">'speedCamera3'</span>]])
<span class="linenr">20: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"====="</span>)
<span class="linenr">21: </span><span style="color: #c678dd;">print</span>(dictToSeries[:<span style="color: #da8548; font-weight: bold;">2</span>])
<span class="linenr">22: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"====="</span>)
<span class="linenr">23: </span><span style="color: #c678dd;">print</span>(dictToSeries[<span style="color: #da8548; font-weight: bold;">4</span>:])
<span class="linenr">24: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#26597;&#35426;</span>
<span class="linenr">25: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"====&#26371;&#30332;&#29694;&#26377;&#19968;&#20491;NaN====="</span>)
<span class="linenr">26: </span><span style="color: #dcaeea;">search</span>=[<span style="color: #98be65;">'speedCamera1'</span>, <span style="color: #98be65;">'speedCamera6'</span>]
<span class="linenr">27: </span><span style="color: #c678dd;">print</span>(pd.Series(dictToSeries, index=search))
</pre>
</div>

<pre class="example" id="org1a64daa">
Kaohsiung
=====
13213
=====
city            Kaohsiung
speedCamera2         3242
speedCamera4         4312
dtype: object
=====
city            Kaohsiung
speedCamera1        13213
speedCamera3       134343
dtype: object
=====
city            Kaohsiung
speedCamera1        13213
dtype: object
=====
speedCamera4    4312
speedCamera5     533
dtype: object
====會發現有一個NaN=====
speedCamera1    13213
speedCamera6      NaN
dtype: object
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org0a60d75" class="outline-2">
<h2 id="org0a60d75"><span class="section-number-2">3.</span> DataFrame</h2>
<div class="outline-text-2" id="text-3">
<p>
直觀的看DataFrame，這就是個Excel表格。<br />
</p>
</div>
<div id="outline-container-org28b5da6" class="outline-3">
<h3 id="org28b5da6"><span class="section-number-3">3.1.</span> DataFrame 建立</h3>
<div class="outline-text-3" id="text-3-1">
<p>
可利用 Dictionary 或是 Array 來建立，並使用 DataFrame 的方法來操作資料查看、資料篩選、資料切片、資料排序等運算。<br />
</p>
</div>
</div>
<div id="outline-container-org817130f" class="outline-3">
<h3 id="org817130f"><span class="section-number-3">3.2.</span> 由 Dictionary 建立</h3>
<div class="outline-text-3" id="text-3-2">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr"> 1: </span><span style="color: #51afef;">import</span> pandas <span style="color: #51afef;">as</span> pd
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #dcaeea;">hobby</span> = [<span style="color: #98be65;">"Movies"</span>, <span style="color: #98be65;">"Sports"</span>, <span style="color: #98be65;">"Coding"</span>, <span style="color: #98be65;">"Fishing"</span>, <span style="color: #98be65;">"Dancing"</span>, <span style="color: #98be65;">"cooking"</span>]
<span class="linenr"> 4: </span><span style="color: #dcaeea;">count</span> = [<span style="color: #da8548; font-weight: bold;">46</span>, <span style="color: #da8548; font-weight: bold;">8</span>, <span style="color: #da8548; font-weight: bold;">12</span>, <span style="color: #da8548; font-weight: bold;">12</span>, <span style="color: #da8548; font-weight: bold;">6</span>, <span style="color: #da8548; font-weight: bold;">58</span>]
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #c678dd;">dict</span> = {<span style="color: #98be65;">"hobby"</span>: hobby,
<span class="linenr"> 7: </span>        <span style="color: #98be65;">"count"</span>: count
<span class="linenr"> 8: </span>       }
<span class="linenr"> 9: </span><span style="color: #c678dd;">print</span>(<span style="color: #c678dd;">dict</span>)
<span class="linenr">10: </span><span style="color: #dcaeea;">df</span> = pd.DataFrame(<span style="color: #c678dd;">dict</span>)
<span class="linenr">11: </span><span style="color: #c678dd;">print</span>(df)
</pre>
</div>

<pre class="example">
{'hobby': ['Movies', 'Sports', 'Coding', 'Fishing', 'Dancing', 'cooking'], 'count': [46, 8, 12, 12, 6, 58]}
     hobby  count
0   Movies     46
1   Sports      8
2   Coding     12
3  Fishing     12
4  Dancing      6
5  cooking     58
</pre>
</div>
</div>
<div id="outline-container-org016ae55" class="outline-3">
<h3 id="org016ae55"><span class="section-number-3">3.3.</span> 由 Array 建立</h3>
<div class="outline-text-3" id="text-3-3">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span><span style="color: #51afef;">import</span> pandas <span style="color: #51afef;">as</span> pd
<span class="linenr">2: </span>
<span class="linenr">3: </span><span style="color: #dcaeea;">ary</span> = [[<span style="color: #98be65;">"Movies"</span>, <span style="color: #da8548; font-weight: bold;">46</span>],[<span style="color: #98be65;">"Sports"</span>, <span style="color: #da8548; font-weight: bold;">8</span>], [<span style="color: #98be65;">"Coding"</span>, <span style="color: #da8548; font-weight: bold;">12</span>], [<span style="color: #98be65;">"Fishing"</span>,<span style="color: #da8548; font-weight: bold;">12</span>], [<span style="color: #98be65;">"Dancing"</span>,<span style="color: #da8548; font-weight: bold;">6</span>], [<span style="color: #98be65;">"cooking"</span>,<span style="color: #da8548; font-weight: bold;">8</span>]]
<span class="linenr">4: </span><span style="color: #c678dd;">print</span>(ary)
<span class="linenr">5: </span><span style="color: #dcaeea;">ary2df</span> = pd.DataFrame(ary, columns = [<span style="color: #98be65;">"hobby"</span>, <span style="color: #98be65;">"count"</span>]) <span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#21934;&#32020;&#30340;&#20108;&#32173;&#30697;&#38499;&#27794;&#26377;&#27396;&#20301;&#21517;&#31281;&#65292;&#35201;&#22806;&#21152;&#25351;&#23450;&#27396;&#27161;&#31844;&#21517;&#31281;</span>
<span class="linenr">6: </span><span style="color: #c678dd;">print</span>(ary2df)
<span class="linenr">7: </span>
</pre>
</div>

<pre class="example">
[['Movies', 46], ['Sports', 8], ['Coding', 12], ['Fishing', 12], ['Dancing', 6], ['cooking', 8]]
     hobby  count
0   Movies     46
1   Sports      8
2   Coding     12
3  Fishing     12
4  Dancing      6
5  cooking      8
</pre>
</div>
</div>
<div id="outline-container-org84d5d6b" class="outline-3">
<h3 id="org84d5d6b"><span class="section-number-3">3.4.</span> 讀入外部資料檔來建立 Dataframe</h3>
<div class="outline-text-3" id="text-3-4">
</div>
<div id="outline-container-org7ed5811" class="outline-4">
<h4 id="org7ed5811"><span class="section-number-4">3.4.1.</span> 本機CSV(由本機端的PyCharm執行，不能在Google colab上跑)</h4>
<div class="outline-text-4" id="text-3-4-1">
<ul class="org-ul">
<li>可以從異質資料來源讀取檔案(如 CSV 檔)內容，並將資料放入 DataFrame 中，進行資料查看、資料篩選、資料切片等運算。<br /></li>
<li>如果資料檔和程式放在同一目錄(資料夾)<br /></li>
<li>如果資料檔放在本機在其他地方<br />
<ul class="org-ul">
<li>絕對路徑<br /></li>
<li>相對路徑<br /></li>
</ul></li>
<li><a href="./scores.csv">下載範例檔:scores.csv</a><br /></li>
</ul>
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span><span style="color: #51afef;">import</span> pandas <span style="color: #51afef;">as</span> pd
<span class="linenr">2: </span>
<span class="linenr">3: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#35712;&#21462;csv</span>
<span class="linenr">4: </span><span style="color: #dcaeea;">df</span> = pd.read_csv(<span style="color: #98be65;">"/Users/student/Downloads/scores.csv"</span>) <span style="color: #5B6268;">#</span><span style="color: #5B6268;">&#36889;&#35041;&#30340;&#36335;&#24465;&#35201;&#33258;&#34892;&#26356;&#25913;</span>
<span class="linenr">5: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"===&#20840;&#37096;&#36039;&#26009;==="</span>)
<span class="linenr">6: </span><span style="color: #c678dd;">print</span>(df)
</pre>
</div>
</div>
</div>
<div id="outline-container-org4cdd21e" class="outline-4">
<h4 id="org4cdd21e"><span class="section-number-4">3.4.2.</span> Google Colab的檔案上傳</h4>
<div class="outline-text-4" id="text-3-4-2">
<p>
import google.colab後，使用files.upload() 就能夠產生上傳檔案，此時cell會進入等待狀態，選取你本機的檔案即可上傳。<br />
</p>
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span><span style="color: #51afef;">from</span> google.colab <span style="color: #51afef;">import</span> files
<span class="linenr">2: </span><span style="color: #dcaeea;">uploaded</span> = files.upload()
</pre>
</div>
<p>
執行後會出現以下畫面:<br />
</p>

<p width="500">
<img src="images/DataFrame/2023-12-22_09-37-23_2023-12-22_09-36-51.png" alt="2023-12-22_09-37-23_2023-12-22_09-36-51.png" width="500" /><br />
點選「瀏覽」選取檔案後即可將檔案上傳至Colab<br />
</p>
</div>
<div id="outline-container-orgb532275" class="outline-5">
<h5 id="orgb532275"><span class="section-number-5">3.4.2.1.</span> 檔案上傳到哪裡?</h5>
<div class="outline-text-5" id="text-3-4-2-1">
<p>
可以執行!ls查看現在所在的目錄(資料夾)的內容<br />
</p>
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span>!ls
</pre>
</div>
<p>
也可以執行!pwd查看現在在哪一個目錄(資料夾)<br />
</p>
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span>!pwd
</pre>
</div>
</div>
</div>
<div id="outline-container-org52b4bc7" class="outline-5">
<h5 id="org52b4bc7"><span class="section-number-5">3.4.2.2.</span> 在Google Colab以Pandas查看csv檔</h5>
<div class="outline-text-5" id="text-3-4-2-2">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span><span style="color: #51afef;">import</span> pandas <span style="color: #51afef;">as</span> pd
<span class="linenr">2: </span>
<span class="linenr">3: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#35712;&#21462;csv</span>
<span class="linenr">4: </span><span style="color: #dcaeea;">df</span> = pd.read_csv(<span style="color: #98be65;">"/content/scores.csv"</span>) <span style="color: #5B6268;">#</span><span style="color: #5B6268;">&#36889;&#35041;&#30340;&#36335;&#24465;&#35201;&#33258;&#34892;&#26356;&#25913;</span>
<span class="linenr">5: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"===&#20840;&#37096;&#36039;&#26009;==="</span>)
<span class="linenr">6: </span><span style="color: #c678dd;">print</span>(df)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org722bd02" class="outline-4">
<h4 id="org722bd02"><span class="section-number-4">3.4.3.</span> 由Pandas直接讀取線上CSV檔</h4>
<div class="outline-text-4" id="text-3-4-3">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span><span style="color: #51afef;">import</span> pandas <span style="color: #51afef;">as</span> pd
<span class="linenr">2: </span><span style="color: #dcaeea;">docURL</span> = <span style="color: #98be65;">'https://letranger.github.io/PythonCourse/scores.csv'</span> <span style="color: #5B6268;">#</span><span style="color: #5B6268;">&#30452;&#25509;&#25351;&#23450;&#27284;&#26696;&#30340;URL</span>
<span class="linenr">3: </span><span style="color: #dcaeea;">df</span> = pd.read_csv(docURL)
<span class="linenr">4: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">'=====dataFrame&#30340;&#32173;&#24230;'</span>)
<span class="linenr">5: </span><span style="color: #c678dd;">print</span>(df.shape)
<span class="linenr">6: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">'=====dataFrame&#30340;&#25976;&#20540;&#20998;&#20296;&#27010;&#27841;'</span>)
<span class="linenr">7: </span><span style="color: #c678dd;">print</span>(df.describe())
<span class="linenr">8: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">'=====dataFrame&#30340;&#21069;5&#31558;&#35352;&#37636;'</span>)
<span class="linenr">9: </span><span style="color: #c678dd;">print</span>(df.head(<span style="color: #da8548; font-weight: bold;">5</span>))
</pre>
</div>

<pre class="example" id="org1427169">
=====dataFrame的維度
(212, 6)
=====dataFrame的數值分佈概況
       classparti     typing    homework     midexam   finalexam
count  212.000000  212.00000  212.000000  211.000000  212.000000
mean    92.386792   82.09434   89.394764   62.863033   49.458491
std     13.798874   23.06041   19.471763   34.104173   34.831187
min     14.000000    0.00000   10.750000    0.000000    0.000000
25%     87.000000   68.00000   83.880000   35.000000   20.000000
50%     94.000000   80.00000   97.370000   67.000000   45.000000
75%    101.000000   96.00000  102.630000   95.000000   76.000000
max    120.000000  120.00000  107.890000  113.500000  115.000000
=====dataFrame的前5筆記錄
           id  classparti  typing  homework  midexam  finalexam
0  S201910901         100      72     92.11     48.0       16.0
1  S201910902          96      56     93.42     60.0       40.0
2  S201910903          96      76    102.63     45.0       28.0
3  S201910904          93      64     86.84     44.0       25.0
4  S201910905          93      56     42.11      0.0       20.0
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org829f84a" class="outline-2">
<h2 id="org829f84a"><span class="section-number-2">4.</span> DataFrame 的資料瀏覽</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org84dcdc7" class="outline-3">
<h3 id="org84dcdc7"><span class="section-number-3">4.1.</span> 基本函數</h3>
<div class="outline-text-3" id="text-4-1">
<ul class="org-ul">
<li>shape<br />
用途：查看 DataFrame 的維度（行數與列數），傳回一個包含行數和列數的 tuple。<br /></li>
<li>describe()<br />
提供數據的統計摘要, 對數值型資料列出統計資訊，如平均值、標準差、最小值、四分位數等。<br /></li>
<li>head()<br />
顯示 DataFrame 的前幾行資料, 預設顯示前 5 行資料，但可以加入顯示行數參數。<br /></li>
<li>tail()<br />
顯示 DataFrame 的後幾行資料, 預設顯示最後 5 行資料，和 head() 類似，可以指定顯示行數。<br /></li>
<li>columns<br />
列出 DataFrame 的所有欄位名稱, 傳回所有列（欄）的名稱，幫助了解 DataFrame 的結構。<br /></li>
<li>index<br />
返回 DataFrame 的索引（行標籤）, 查看 DataFrame 中的行標籤，用於確認資料的索引範圍或類型。<br /></li>
<li>info()<br />
顯示 DataFrame 的結構化資訊, 包含 DataFrame 中的行數、列數、欄位類型、非空值計數、記憶體使用情況等，常用於總覽資料集的結構。<br /></li>
</ul>
</div>
<div id="outline-container-org057930c" class="outline-4">
<h4 id="org057930c"><span class="section-number-4">4.1.1.</span> 範例</h4>
<div class="outline-text-4" id="text-4-1-1">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr"> 1: </span><span style="color: #51afef;">import</span> pandas <span style="color: #51afef;">as</span> pd
<span class="linenr"> 2: </span><span style="color: #dcaeea;">docURL</span> = <span style="color: #98be65;">'https://letranger.github.io/PythonCourse/scores.csv'</span>
<span class="linenr"> 3: </span><span style="color: #dcaeea;">df</span> = pd.read_csv(docURL)
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"====df.shape===="</span>)
<span class="linenr"> 6: </span><span style="color: #c678dd;">print</span>(df.shape) <span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#22238;&#20659;&#21015;&#25976;&#33287;&#27396;&#25976;</span>
<span class="linenr"> 7: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"====df.describe()===="</span>)
<span class="linenr"> 8: </span><span style="color: #c678dd;">print</span>(df.describe()) <span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#22238;&#20659;&#25551;&#36848;&#24615;&#32113;&#35336;</span>
<span class="linenr"> 9: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"====df.head(3)===="</span>)
<span class="linenr">10: </span><span style="color: #c678dd;">print</span>(df.head(<span style="color: #da8548; font-weight: bold;">3</span>)) <span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#22238;&#20659;&#21069;&#19977;&#31558;&#35264;&#28204;&#20540;</span>
<span class="linenr">11: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"====df.tail(3)===="</span>)
<span class="linenr">12: </span><span style="color: #c678dd;">print</span>(df.tail(<span style="color: #da8548; font-weight: bold;">3</span>)) <span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#22238;&#20659;&#24460;&#19977;&#31558;&#35264;&#28204;&#20540;</span>
<span class="linenr">13: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"====df.columns===="</span>)
<span class="linenr">14: </span><span style="color: #c678dd;">print</span>(df.columns) <span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#22238;&#20659;&#27396;&#20301;&#21517;&#31281;</span>
<span class="linenr">15: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"====df.columns===="</span>)
<span class="linenr">16: </span><span style="color: #c678dd;">print</span>(df.index) <span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#22238;&#20659; index</span>
<span class="linenr">17: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"====df.info===="</span>)
<span class="linenr">18: </span><span style="color: #c678dd;">print</span>(df.info) <span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#22238;&#20659;&#36039;&#26009;&#20839;&#23481;</span>
</pre>
</div>

<pre class="example" id="org7a14f3b">
====df.shape====
(212, 6)
====df.describe()====
                 id  classparti     typing    homework     midexam   finalexam
count  2.120000e+02  212.000000  212.00000  212.000000  211.000000  212.000000
mean   2.019113e+08   92.386792   82.09434   89.394764   62.863033   49.458491
std    2.933047e+02   13.798874   23.06041   19.471763   34.104173   34.831187
min    2.019109e+08   14.000000    0.00000   10.750000    0.000000    0.000000
25%    2.019110e+08   87.000000   68.00000   83.880000   35.000000   20.000000
50%    2.019111e+08   94.000000   80.00000   97.370000   67.000000   45.000000
75%    2.019116e+08  101.000000   96.00000  102.630000   95.000000   76.000000
max    2.019117e+08  120.000000  120.00000  107.890000  113.500000  115.000000
====df.head(3)====
          id  classparti  typing  homework  midexam  finalexam
0  201910901         100      72     92.11     48.0       16.0
1  201910902          96      56     93.42     60.0       40.0
2  201910903          96      76    102.63     45.0       28.0
====df.tail(3)====
            id  classparti  typing  homework  midexam  finalexam
209  201911728          83      48    102.63     83.0       75.0
210  201911729          87      84    105.26    112.3      103.0
211  201911730          96      72    102.63     91.0      100.0
====df.columns====
Index(['id', 'classparti', 'typing', 'homework', 'midexam', 'finalexam'], dtype='object')
====df.columns====
RangeIndex(start=0, stop=212, step=1)
====df.info====
&lt;bound method DataFrame.info of             id  classparti  typing  homework  midexam  finalexam
0    201910901         100      72     92.11     48.0       16.0
1    201910902          96      56     93.42     60.0       40.0
2    201910903          96      76    102.63     45.0       28.0
3    201910904          93      64     86.84     44.0       25.0
4    201910905          93      56     42.11      0.0       20.0
..         ...         ...     ...       ...      ...        ...
207  201911726         106      80    102.63     96.5      103.0
208  201911727          82      60    102.63     84.0      100.0
209  201911728          83      48    102.63     83.0       75.0
210  201911729          87      84    105.26    112.3      103.0
211  201911730          96      72    102.63     91.0      100.0

[212 rows x 6 columns]&gt;
</pre>
</div>
</div>
</div>
<div id="outline-container-org700e720" class="outline-3">
<h3 id="org700e720"><span class="section-number-3">4.2.</span> DataFrame 資料排序</h3>
<div class="outline-text-3" id="text-4-2">
<ul class="org-ul">
<li>sort_values(): 依欄位的值來排序(較常用)<br /></li>
<li>sort_index(): 依欄位名稱或index值來排。The axis along which to sort. The value 0 identifies the rows, and 1 identifies the columns.<br /></li>
<li>sort 後的結果為 <b>複本</b> ，不改變原本的資料<br /></li>
</ul>
<div class="org-src-container">
<pre class="src src-shell"><span class="linenr">1: </span><span style="color: #c678dd;">which</span> python3
</pre>
</div>

<pre class="example">
/Users/letranger/Dropbox/notes/PythonCourse/venv/bin/python3
</pre>


<div class="org-src-container">
<pre class="src src-python"><span class="linenr"> 1: </span><span style="color: #51afef;">import</span> pandas <span style="color: #51afef;">as</span> pd
<span class="linenr"> 2: </span><span style="color: #dcaeea;">docURL</span> = <span style="color: #98be65;">'https://letranger.github.io/PythonCourse/scores.csv'</span>
<span class="linenr"> 3: </span><span style="color: #dcaeea;">df</span> = pd.read_csv(docURL)
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"====Original===="</span>)
<span class="linenr"> 6: </span><span style="color: #c678dd;">print</span>(df.head())
<span class="linenr"> 7: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"===.sort_values()===="</span>)
<span class="linenr"> 8: </span><span style="color: #c678dd;">print</span>(df.sort_values(by = <span style="color: #98be65;">'finalexam'</span>)[:<span style="color: #da8548; font-weight: bold;">10</span>])
<span class="linenr"> 9: </span><span style="color: #c678dd;">print</span>(df.sort_values(by = [<span style="color: #98be65;">'typing'</span>, <span style="color: #98be65;">'homework'</span>], ascending=<span style="color: #a9a1e1;">False</span>)[:<span style="color: #da8548; font-weight: bold;">10</span>])
<span class="linenr">10: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"===.sort_index()===="</span>)
<span class="linenr">11: </span><span style="color: #c678dd;">print</span>(df.sort_index(axis = <span style="color: #da8548; font-weight: bold;">1</span>, ascending = <span style="color: #a9a1e1;">True</span>))
<span class="linenr">12: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"===.sort_index()===="</span>)
<span class="linenr">13: </span><span style="color: #c678dd;">print</span>(df.sort_index(axis = <span style="color: #da8548; font-weight: bold;">0</span>, ascending = <span style="color: #a9a1e1;">False</span>))
<span class="linenr">14: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#22312;&#32147;&#36942;&#21508;&#31278;&#25490;&#24207;&#24460;&#65292;&#29694;&#22312;&#30340;df&#20839;&#23481;&#28858;</span>
<span class="linenr">15: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">'=== &#22312;&#32147;&#36942;&#21508;&#31278;&#25490;&#24207;&#24460;&#65292;&#29694;&#22312;&#30340;df&#20839;&#23481;&#28858; ==='</span>)
<span class="linenr">16: </span><span style="color: #c678dd;">print</span>(df.head())
</pre>
</div>

<pre class="example" id="org1a5f64b">
====Original====
            id  classparti  typing  homework  midexam  finalexam
0  '201910901'         100      72     92.11     48.0       16.0
1  '201910902'          96      56     93.42     60.0       40.0
2  '201910903'          96      76    102.63     45.0       28.0
3  '201910904'          93      64     86.84     44.0       25.0
4  '201910905'          93      56     42.11      0.0       20.0
===.sort_values()====
              id  classparti  typing  homework  midexam  finalexam
81   '201911108'          95     100     66.89      0.0        0.0
36   '201910937'          89      84     97.37      4.0        0.0
139  '201911330'          95      72     51.32     30.0        0.0
45   '201911009'          71      64     99.78     36.2        0.0
49   '201911013'          88      76     70.61     15.0        0.0
55   '201911019'          74      64     81.58      5.0        0.0
25   '201910926'          67      60     88.16      0.0        0.0
23   '201910924'          75      48     10.75      0.0        0.0
124  '201911315'          71     120     15.35      0.0        0.0
119  '201911310'          82      56     46.71     17.0        0.0
              id  classparti  typing  homework  midexam  finalexam
196  '201911715'         106     120    107.89   102.40     105.00
198  '201911717'          80     120    107.89   106.00     100.00
103  '201911130'         120     120    106.84    70.00      80.00
118  '201911309'          87     120    105.26    98.96     103.75
73   '201911037'          93     120    102.63    49.00      56.00
158  '201911613'          88     120    102.63   107.50      72.00
188  '201911707'          80     120    102.63   100.00      56.00
203  '201911722'         105     120    102.63   101.50     105.00
28   '201910929'          88     120    100.00    40.00      20.00
200  '201911720'         110     120    100.00   100.00      80.00
===.sort_index()====
     classparti  finalexam  homework           id  midexam  typing
0           100       16.0     92.11  '201910901'     48.0      72
1            96       40.0     93.42  '201910902'     60.0      56
2            96       28.0    102.63  '201910903'     45.0      76
3            93       25.0     86.84  '201910904'     44.0      64
4            93       20.0     42.11  '201910905'      0.0      56
..          ...        ...       ...          ...      ...     ...
207         106      103.0    102.63  '201911726'     96.5      80
208          82      100.0    102.63  '201911727'     84.0      60
209          83       75.0    102.63  '201911728'     83.0      48
210          87      103.0    105.26  '201911729'    112.3      84
211          96      100.0    102.63  '201911730'     91.0      72

[212 rows x 6 columns]
===.sort_index()====
              id  classparti  typing  homework  midexam  finalexam
211  '201911730'          96      72    102.63     91.0      100.0
210  '201911729'          87      84    105.26    112.3      103.0
209  '201911728'          83      48    102.63     83.0       75.0
208  '201911727'          82      60    102.63     84.0      100.0
207  '201911726'         106      80    102.63     96.5      103.0
..           ...         ...     ...       ...      ...        ...
4    '201910905'          93      56     42.11      0.0       20.0
3    '201910904'          93      64     86.84     44.0       25.0
2    '201910903'          96      76    102.63     45.0       28.0
1    '201910902'          96      56     93.42     60.0       40.0
0    '201910901'         100      72     92.11     48.0       16.0

[212 rows x 6 columns]
=== 在經過各種排序後，現在的df內容為 ===
            id  classparti  typing  homework  midexam  finalexam
0  '201910901'         100      72     92.11     48.0       16.0
1  '201910902'          96      56     93.42     60.0       40.0
2  '201910903'          96      76    102.63     45.0       28.0
3  '201910904'          93      64     86.84     44.0       25.0
4  '201910905'          93      56     42.11      0.0       20.0
</pre>
</div>
</div>
<div id="outline-container-org11254d1" class="outline-3">
<h3 id="org11254d1"><span class="section-number-3">4.3.</span> DataFrame 處理遺漏值</h3>
<div class="outline-text-3" id="text-4-3">
</div>
<div id="outline-container-orgaef922c" class="outline-4">
<h4 id="orgaef922c"><span class="section-number-4">4.3.1.</span> dropna()</h4>
<div class="outline-text-4" id="text-4-3-1">
<p>
dropna() 用於刪除 DataFrame 中包含遺失值的行或列。<br />
</p>
<div class="org-src-container">
<pre class="src src-python">DataFrame.dropna(axis=<span style="color: #da8548; font-weight: bold;">0</span>, how=<span style="color: #98be65;">'any'</span>, thresh=<span style="color: #a9a1e1;">None</span>, subset=<span style="color: #a9a1e1;">None</span>, inplace=<span style="color: #a9a1e1;">False</span>)
</pre>
</div>
<ul class="org-ul">
<li>axis: 指定刪除的方向。axis=0 刪除包含遺失值的行，axis=1 刪除包含遺失值的列，預設為 0（行）。<br /></li>
<li>how: 確定是否刪除的條件。how=&rsquo;any&rsquo; 表示只要行或列中有一個 NaN 就刪除，how=&rsquo;all&rsquo; 表示必須全部是 NaN 才刪除，預設為 &rsquo;any&rsquo;。<br /></li>
<li>thresh: 保留至少有 thresh 個非 NaN 的行或列。<br /></li>
<li>subset: 只在特定列中尋找遺失值。<br /></li>
<li>inplace: 是否在原 DataFrame 中直接修改，True 表示在原地修改，False 則返回一個新的 DataFrame。<br /></li>
</ul>
</div>
</div>
<div id="outline-container-org3098485" class="outline-4">
<h4 id="org3098485"><span class="section-number-4">4.3.2.</span> fillna()</h4>
<div class="outline-text-4" id="text-4-3-2">
<div class="org-src-container">
<pre class="src src-python">DataFrame.fillna(value=<span style="color: #a9a1e1;">None</span>, method=<span style="color: #a9a1e1;">None</span>, axis=<span style="color: #a9a1e1;">None</span>, inplace=<span style="color: #a9a1e1;">False</span>, limit=<span style="color: #a9a1e1;">None</span>)
</pre>
</div>
<ul class="org-ul">
<li>value: 用來填補遺失值的值，這個值可以是單個標量或字典來指定每列不同的填補值。<br /></li>
<li>method: 填補方法，例如 ffill 代表用前一個有效值填補，bfill 代表用後一個有效值填補。<br /></li>
<li>axis: 指定填補的方向，axis=0 填補行，axis=1 填補列，預設為 0（行）。<br /></li>
<li>inplace: 是否直接修改原 DataFrame，預設為 False。<br /></li>
<li>limit: 限制每一行或每一列最多填補幾個遺失值。<br /></li>
</ul>
</div>
</div>
<div id="outline-container-orged37baa" class="outline-4">
<h4 id="orged37baa"><span class="section-number-4">4.3.3.</span> 其他</h4>
<div class="outline-text-4" id="text-4-3-3">
<ul class="org-ul">
<li>isnull(): 用來檢查 DataFrame 中的遺漏值，並傳回一個布林值的 DataFrame，True 表示該值為 NaN，False 表示該值不是 NaN。<br /></li>
<li>notnull(): 傳回一個與原資料相同大小的布林值 DataFrame，其中 True 表示資料為 NaN。<br /></li>
<li>any(): 一個常用於處理布林值資料的函數，它用來檢查在一個特定的軸（列或行）上，是否有 任何一個值 為 True。這在處理遺漏值時特別有用，因為你可以用它來檢查一個 DataFrame 的每一行或每一列中是否存在至少一個 True 值（例如：NaN 值）。<br /></li>
</ul>
</div>
</div>
<div id="outline-container-org093f71d" class="outline-4">
<h4 id="org093f71d"><span class="section-number-4">4.3.4.</span> 範例</h4>
<div class="outline-text-4" id="text-4-3-4">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr"> 1: </span><span style="color: #51afef;">import</span> pandas <span style="color: #51afef;">as</span> pd
<span class="linenr"> 2: </span><span style="color: #dcaeea;">docURL</span> = <span style="color: #98be65;">'https://letranger.github.io/PythonCourse/scores-null.csv'</span>
<span class="linenr"> 3: </span><span style="color: #dcaeea;">df</span> = pd.read_csv(docURL)
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #5B6268;">#</span><span style="color: #5B6268;">df = pd.read_csv('scores-null.csv')</span>
<span class="linenr"> 6: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"====&#21407;&#22987;&#36039;&#26009;===="</span>)
<span class="linenr"> 7: </span><span style="color: #c678dd;">print</span>(df)
<span class="linenr"> 8: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#36039;&#26009;&#26377;&#36986;&#22833;&#30340;&#23416;&#29983;</span>
<span class="linenr"> 9: </span><span style="color: #dcaeea;">missing_students</span> = df[df.isnull().<span style="color: #c678dd;">any</span>(axis=<span style="color: #da8548; font-weight: bold;">1</span>)][<span style="color: #98be65;">'id'</span>]
<span class="linenr">10: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">'====&#26377;&#36986;&#22833;&#20540;&#30340;&#23416;&#29983;===='</span>)
<span class="linenr">11: </span><span style="color: #c678dd;">print</span>(missing_students)
<span class="linenr">12: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#26597;&#35426;&#36986;&#22833;&#20540;&#29376;&#27841;</span>
<span class="linenr">13: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">'====&#36986;&#22833;&#20540;===='</span>)
<span class="linenr">14: </span><span style="color: #c678dd;">print</span>(df.isnull())
<span class="linenr">15: </span><span style="color: #c678dd;">print</span>(df.isnull().<span style="color: #c678dd;">sum</span>())
<span class="linenr">16: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#21034;&#38500;&#26377;&#36986;&#22833;&#20540;&#30340;&#35352;&#37636;</span>
<span class="linenr">17: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"====&#21034;&#38500;&#26377;&#36986;&#22833;&#20540;&#30340;&#35352;&#37636;===="</span>)
<span class="linenr">18: </span><span style="color: #dcaeea;">dropValue</span> = df.dropna()
<span class="linenr">19: </span><span style="color: #c678dd;">print</span>(dropValue)
<span class="linenr">20: </span><span style="color: #dcaeea;">fill0</span> = df.fillna(<span style="color: #da8548; font-weight: bold;">0</span>)
<span class="linenr">21: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"====&#36986;&#22833;&#20540;&#22635;&#38646;===="</span>)
<span class="linenr">22: </span><span style="color: #c678dd;">print</span>(fill0)
<span class="linenr">23: </span><span style="color: #dcaeea;">fillv</span> = df.fillna({<span style="color: #98be65;">"classparti"</span>:<span style="color: #da8548; font-weight: bold;">999</span>, <span style="color: #98be65;">"typing"</span>:<span style="color: #da8548; font-weight: bold;">0</span>, <span style="color: #98be65;">"finalExam"</span>:<span style="color: #98be65;">"NULL"</span>})
<span class="linenr">24: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"====&#36986;&#22833;&#20540;&#22635;&#29305;&#23450;&#20540;===="</span>)
<span class="linenr">25: </span><span style="color: #c678dd;">print</span>(fillv)
</pre>
</div>

<pre class="example" id="org3c60deb">
====原始資料====
          id  classparti  typing  homework  finalExam
0  201910901       100.0    72.0     92.11       48.0
1  201910902        96.0    56.0     93.42       60.0
2  201910903        96.0    76.0    102.63        NaN
3  201910904         NaN    64.0     86.84       44.0
4  201910905        93.0    56.0     42.11        0.0
5  201910906       101.0   108.0    100.00        NaN
6  201910907       101.0     NaN     92.11       55.0
7  201910908        94.0    68.0    105.26       61.0
8  201910909         NaN    64.0     44.74       20.0
9  201910910        93.0   120.0     97.37       16.0
====有遺失值的學生====
2    201910903
3    201910904
5    201910906
6    201910907
8    201910909
Name: id, dtype: int64
====遺失值====
      id  classparti  typing  homework  finalExam
0  False       False   False     False      False
1  False       False   False     False      False
2  False       False   False     False       True
3  False        True   False     False      False
4  False       False   False     False      False
5  False       False   False     False       True
6  False       False    True     False      False
7  False       False   False     False      False
8  False        True   False     False      False
9  False       False   False     False      False
id            0
classparti    2
typing        1
homework      0
finalExam     2
dtype: int64
====刪除有遺失值的記錄====
          id  classparti  typing  homework  finalExam
0  201910901       100.0    72.0     92.11       48.0
1  201910902        96.0    56.0     93.42       60.0
4  201910905        93.0    56.0     42.11        0.0
7  201910908        94.0    68.0    105.26       61.0
9  201910910        93.0   120.0     97.37       16.0
====遺失值填零====
          id  classparti  typing  homework  finalExam
0  201910901       100.0    72.0     92.11       48.0
1  201910902        96.0    56.0     93.42       60.0
2  201910903        96.0    76.0    102.63        0.0
3  201910904         0.0    64.0     86.84       44.0
4  201910905        93.0    56.0     42.11        0.0
5  201910906       101.0   108.0    100.00        0.0
6  201910907       101.0     0.0     92.11       55.0
7  201910908        94.0    68.0    105.26       61.0
8  201910909         0.0    64.0     44.74       20.0
9  201910910        93.0   120.0     97.37       16.0
====遺失值填特定值====
          id  classparti  typing  homework finalExam
0  201910901       100.0    72.0     92.11      48.0
1  201910902        96.0    56.0     93.42      60.0
2  201910903        96.0    76.0    102.63      NULL
3  201910904       999.0    64.0     86.84      44.0
4  201910905        93.0    56.0     42.11       0.0
5  201910906       101.0   108.0    100.00      NULL
6  201910907       101.0     0.0     92.11      55.0
7  201910908        94.0    68.0    105.26      61.0
8  201910909       999.0    64.0     44.74      20.0
9  201910910        93.0   120.0     97.37      16.0
</pre>
</div>
</div>
</div>
<div id="outline-container-org66a85d7" class="outline-3">
<h3 id="org66a85d7"><span class="section-number-3">4.4.</span> [課堂練習]&#xa0;&#xa0;&#xa0;<span class="tag"><span class="TNFSH">TNFSH</span></span></h3>
<div class="outline-text-3" id="text-4-4">
<p>
以下列程式碼讀取線上資料檔，然後完成下列任務<br />
</p>
<ol class="org-ol">
<li>print出<a href="prac_scores.csv">原始資料</a>，觀察數據中是否有遺漏值。<br /></li>
<li>使用 isnull() 和 notnull() 來檢查 DataFrame 中的遺漏值。顯示哪些欄位包含遺漏值。<br /></li>
<li>列出成績不完整(有缺失值)的學生姓名<br /></li>
<li>使用 dropna() 刪除包含遺漏值的學生記錄，並顯示刪除後的結果。<br /></li>
<li>使用 fillna() 將遺漏值填充為平均值或其他特定值。依續以下列幾種填充方式：<br />
<ol class="org-ol">
<li>科學、地理兩科缺考者一律給60分。<br /></li>
<li>使用 0 填充其他所有遺漏值。<br /></li>
</ol></li>
</ol>
</div>
<div id="outline-container-org4a6e97f" class="outline-4">
<h4 id="org4a6e97f"><span class="section-number-4">4.4.1.</span> 參考</h4>
<div class="outline-text-4" id="text-4-4-1">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span><span style="color: #51afef;">import</span> pandas <span style="color: #51afef;">as</span> pd
<span class="linenr">2: </span><span style="color: #dcaeea;">docURL</span> = <span style="color: #98be65;">'https://letranger.github.io/PythonCourse/prac_scores.csv'</span>
<span class="linenr">3: </span><span style="color: #dcaeea;">df</span> = pd.read_csv(docURL)
<span class="linenr">4: </span><span style="color: #c678dd;">print</span>(df.head())
</pre>
</div>
<pre class="example">
     數學    英文    科學    歷史    地理   姓名
0   NaN  76.0  84.0  96.0  56.0  學生1
1  78.0   NaN  63.0  73.0  58.0  學生2
2  64.0  77.0  66.0  75.0  57.0  學生3
3  92.0   NaN  85.0  74.0  61.0  學生4
4  57.0  64.0  99.0  94.0  83.0  學生5
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgdf9cdd5" class="outline-2">
<h2 id="orgdf9cdd5"><span class="section-number-2">5.</span> Dataframe 的選取與過濾</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-orgac30acb" class="outline-3">
<h3 id="orgac30acb"><span class="section-number-3">5.1.</span> 資料選取: Select column(s)</h3>
<div class="outline-text-3" id="text-5-1">
<ol class="org-ol">
<li>使用 df[&rsquo;column_name&rsquo;] 來選取單個欄位<br />
這種方式傳回的是一個 Series，適用於只選取一個欄位的情況。這種方法最為直觀，當你知道欄位名稱時，直接使用 df[&rsquo;column_name&rsquo;] 即可。<br /></li>
<li>使用<code class="src src-python"> df[[<span style="color: #98be65;">'col1'</span>, <span style="color: #98be65;">'col2'</span>]] </code>選取多個欄位<br />
如果需要一次選取多個欄位，可以將多個欄位名稱放入一個列表中，再傳入 DataFrame 中。這樣做會傳回一個新的 DataFrame，並且可以進行進一步操作，例如使用 head() 來查看前幾行的數據。<br /></li>
<li>使用 df.column_name 的簡寫方式<br />
這是一種更簡潔的語法，它只適用於列名為有效的 Python 識別符時（例如，列名中沒有空格或特殊字符）。通過 df.column_name 來選取欄位和 df[&rsquo;column_name&rsquo;] 效果相同，傳回一個 Series。<br /></li>
</ol>
</div>
<div id="outline-container-org42269d3" class="outline-4">
<h4 id="org42269d3"><span class="section-number-4">5.1.1.</span> 範例</h4>
<div class="outline-text-4" id="text-5-1-1">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr"> 1: </span><span style="color: #51afef;">import</span> pandas <span style="color: #51afef;">as</span> pd
<span class="linenr"> 2: </span><span style="color: #dcaeea;">docURL</span> = <span style="color: #98be65;">'https://letranger.github.io/PythonCourse/scores.csv'</span>
<span class="linenr"> 3: </span><span style="color: #dcaeea;">df</span> = pd.read_csv(docURL)
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #c678dd;">print</span>(df.head(<span style="color: #da8548; font-weight: bold;">3</span>))
<span class="linenr"> 6: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#20197; df.column name&#20358;&#36984;&#27396;&#20301;</span>
<span class="linenr"> 7: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">'=== df.id ==='</span>)
<span class="linenr"> 8: </span><span style="color: #c678dd;">print</span>(df.<span style="color: #c678dd;">id</span>)
<span class="linenr"> 9: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#20197; df[['column']]  &#20358;&#36984;&#27396;&#20301;</span>
<span class="linenr">10: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"=== df[['id']] ==="</span>)
<span class="linenr">11: </span><span style="color: #c678dd;">print</span>(df[[<span style="color: #98be65;">'id'</span>]])
<span class="linenr">12: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">df[['id', 'typing']]&#30340;&#32080;&#26524;&#20173;&#26159;dataframe&#65292;&#24460;&#38754;&#21487;&#20197;&#20877;&#21152;&#19978;dataframe&#30340;function</span>
<span class="linenr">13: </span><span style="color: #c678dd;">print</span>(df[[<span style="color: #98be65;">'id'</span>, <span style="color: #98be65;">'typing'</span>]].head(<span style="color: #da8548; font-weight: bold;">3</span>))
<span class="linenr">14: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#20197; df.column &#20358;&#36984;&#27396;&#20301;</span>
<span class="linenr">15: </span><span style="color: #c678dd;">print</span>(df.<span style="color: #c678dd;">id</span>, df.homework)
</pre>
</div>

<pre class="example" id="org43efb49">
           id  classparti  typing  homework  midexam  finalexam
0  S201910901         100      72     92.11     48.0       16.0
1  S201910902          96      56     93.42     60.0       40.0
2  S201910903          96      76    102.63     45.0       28.0
=== df.id ===
0      S201910901
1      S201910902
2      S201910903
3      S201910904
4      S201910905
          ...
207    S201911726
208    S201911727
209    S201911728
210    S201911729
211    S201911730
Name: id, Length: 212, dtype: object
=== df[['id']] ===
             id
0    S201910901
1    S201910902
2    S201910903
3    S201910904
4    S201910905
..          ...
207  S201911726
208  S201911727
209  S201911728
210  S201911729
211  S201911730

[212 rows x 1 columns]
           id  typing
0  S201910901      72
1  S201910902      56
2  S201910903      76
0      S201910901
1      S201910902
2      S201910903
3      S201910904
4      S201910905
          ...
207    S201911726
208    S201911727
209    S201911728
210    S201911729
211    S201911730
Name: id, Length: 212, dtype: object 0       92.11
1       93.42
2      102.63
3       86.84
4       42.11
        ...
207    102.63
208    102.63
209    102.63
210    105.26
211    102.63
Name: homework, Length: 212, dtype: float64
</pre>
</div>
</div>
</div>
<div id="outline-container-org288ee86" class="outline-3">
<h3 id="org288ee86"><span class="section-number-3">5.2.</span> 資料選取: Select using index (row)</h3>
<div class="outline-text-3" id="text-5-2">
<p>
在資料處理與分析中，Pandas 提供了方便的方法來根據列索引或條件選取 DataFrame 中的資料列。這讓使用者能夠靈活地篩選與操作資料，進行更精細的分析。<br />
</p>
<ol class="org-ol">
<li>使用索引範圍選取資料列<br />
Pandas 支援使用索引範圍來選取 DataFrame 的資料列。類似於 Python 的切片語法:<br />
<ul class="org-ul">
<li><code class="src src-python"> df[start:end] </code>: 選取第 start 到 end-1 行的資料。這種方法非常直觀，用於選取連續的一組資料列。<br /></li>
</ul></li>
<li>使用條件選取資料列<br />
除了直接選取特定的資料列，Pandas 也允許使用條件來篩選資料:<br />
<ul class="org-ul">
<li>df[condition] :可以選取符合條件的資料。例如，篩選出作業成績小於 30 的學生記錄。<br /></li>
</ul></li>
<li>合併列索引與欄位條件<br />
我們還可以結合列索引與欄位條件來選取資料。例如，使用條件選取特定列後，再篩選出符合條件的資料列，進行進一步操作。<br /></li>
</ol>
</div>
<div id="outline-container-orgbe3d649" class="outline-4">
<h4 id="orgbe3d649"><span class="section-number-4">5.2.1.</span> 範例</h4>
<div class="outline-text-4" id="text-5-2-1">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr"> 1: </span><span style="color: #51afef;">import</span> pandas <span style="color: #51afef;">as</span> pd
<span class="linenr"> 2: </span><span style="color: #dcaeea;">docURL</span> = <span style="color: #98be65;">'https://letranger.github.io/PythonCourse/scores.csv'</span>
<span class="linenr"> 3: </span><span style="color: #dcaeea;">df</span> = pd.read_csv(docURL)
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#20197;row index&#20358;&#36984;&#21462;&#36039;&#26009;</span>
<span class="linenr"> 6: </span><span style="color: #c678dd;">print</span>(df[<span style="color: #da8548; font-weight: bold;">1</span>:<span style="color: #da8548; font-weight: bold;">3</span>])
<span class="linenr"> 7: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#20197;colu</span>
<span class="linenr"> 8: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#20197;&#26781;&#20214;&#20358;&#36984;&#21462;&#36039;&#26009;</span>
<span class="linenr"> 9: </span><span style="color: #c678dd;">print</span>(df[df.homework&lt;<span style="color: #da8548; font-weight: bold;">30</span>])
<span class="linenr">10: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#21512;&#20341;row and column&#20841;&#38917;&#26781;&#20214;</span>
<span class="linenr">11: </span><span style="color: #c678dd;">print</span>(df.<span style="color: #c678dd;">id</span>[df.homework&lt;<span style="color: #da8548; font-weight: bold;">30</span>])
<span class="linenr">12: </span><span style="color: #c678dd;">print</span>(df[[<span style="color: #98be65;">'id'</span>, <span style="color: #98be65;">'homework'</span>]][<span style="color: #da8548; font-weight: bold;">1</span>:<span style="color: #da8548; font-weight: bold;">3</span>])
</pre>
</div>

<pre class="example" id="orgf7882ff">
          id  classparti  typing  homework  midexam  finalexam
1  201910902          96      56     93.42     60.0       40.0
2  201910903          96      76    102.63     45.0       28.0
            id  classparti  typing  homework  midexam  finalexam
10   201910911          62      44     20.39      4.0        0.0
18   201910919          14      56     25.92      0.0        0.0
23   201910924          75      48     10.75      0.0        0.0
124  201911315          71     120     15.35      0.0        0.0
140  201911331          93     120     25.88      0.0       16.0
10     201910911
18     201910919
23     201910924
124    201911315
140    201911331
Name: id, dtype: int64
          id  homework
1  201910902     93.42
2  201910903    102.63
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb28039d" class="outline-3">
<h3 id="orgb28039d"><span class="section-number-3">5.3.</span> 條件式選取資料</h3>
<div class="outline-text-3" id="text-5-3">
<ol class="org-ol">
<li>單一條件篩選<br />
需要根據單一條件篩選資料時:<br />
<ul class="org-ul">
<li>df[condition]: 傳回一個新的 DataFrame，包含所有符合條件的資料列。<br /></li>
</ul></li>
<li>多條件篩選<br />
如果你需要根據多個條件來篩選資料，可以使用邏輯運算符來結合條件：<br />
<ul class="org-ul">
<li><code class="src src-python"> df[(condition)] </code><br /></li>
<li><code class="src src-python"> df[(condition <span style="color: #da8548; font-weight: bold;">1</span>) &amp; (condition <span style="color: #da8548; font-weight: bold;">2</span>) ] </code><br /></li>
<li>使用多個條件時，必須 <b>將每個條件放在括號內</b> ，這樣才能正確解析每個條件的優先級。<br /></li>
</ul></li>
</ol>
</div>
<div id="outline-container-orge5b8050" class="outline-4">
<h4 id="orge5b8050"><span class="section-number-4">5.3.1.</span> 範例</h4>
<div class="outline-text-4" id="text-5-3-1">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr">1: </span><span style="color: #51afef;">import</span> pandas <span style="color: #51afef;">as</span> pd
<span class="linenr">2: </span>
<span class="linenr">3: </span><span style="color: #dcaeea;">docURL</span> = <span style="color: #98be65;">'https://letranger.github.io/PythonCourse/scores.csv'</span>
<span class="linenr">4: </span><span style="color: #dcaeea;">df</span> = pd.read_csv(docURL)
<span class="linenr">5: </span>
<span class="linenr">6: </span><span style="color: #c678dd;">print</span>(df[(df.midexam &gt;= <span style="color: #da8548; font-weight: bold;">100</span>) &amp; (df.finalexam &gt;= <span style="color: #da8548; font-weight: bold;">100</span>)])
</pre>
</div>

<pre class="example" id="orgae7dae1">
             id  classparti  typing  homework  midexam  finalexam
11   S201910912          87      92     92.11    110.8     103.75
70   S201911034         104      92    102.63    100.8     101.00
88   S201911115         120      88    105.26    113.5     111.00
98   S201911125         119      80    107.89    113.2     115.00
102  S201911129         106      52    102.63    103.6     100.00
127  S201911318         108      80    102.63    104.8     100.00
138  S201911329         105      48    107.89    100.0     100.00
143  S201911334         100     120     81.58    104.8     113.00
153  S201911608          88       0    102.63    100.0     100.00
169  S201911624          82     100    102.63    101.5     105.00
182  S201911701         103     108     92.63    100.0     100.00
189  S201911708         106     108    102.63    107.2     101.00
190  S201911709         108      88    107.89    104.8     105.00
191  S201911710         102     100    102.63    100.0     105.00
193  S201911712         105      96    101.58    107.5     100.00
195  S201911714         102      44    107.89    110.0     110.00
196  S201911715         106     120    107.89    102.4     105.00
198  S201911717          80     120    107.89    106.0     100.00
201  S201911721         109      76    100.00    100.0     100.00
203  S201911722         105     120    102.63    101.5     105.00
210  S201911729          87      84    105.26    112.3     103.00
</pre>
</div>
</div>
</div>
<div id="outline-container-orgbb2e676" class="outline-3">
<h3 id="orgbb2e676"><span class="section-number-3">5.4.</span> 進階條件過濾[loc/iloc]</h3>
<div class="outline-text-3" id="text-5-4">
<p>
在 Pandas 中，除了基本的索引與條件篩選，loc 和 iloc 提供了更加靈活且強大的資料篩選功能。這些方法允許我們根據行標籤、列標籤，或者純粹基於數值索引來選取資料。此外，between 方法則可以用來方便地篩選特定區間內的數值。<br />
</p>
</div>
<div id="outline-container-org7c67f2a" class="outline-4">
<h4 id="org7c67f2a"><span class="section-number-4">5.4.1.</span> loc, iloc, between <sup><a id="fnr.5" class="footref" href="#fn.5" role="doc-backlink">5</a></sup></h4>
<div class="outline-text-4" id="text-5-4-1">
</div>
<div id="outline-container-org9dc3f4b" class="outline-5">
<h5 id="org9dc3f4b"><span class="section-number-5">5.4.1.1.</span> loc</h5>
<div class="outline-text-5" id="text-5-4-1-1">
<ul class="org-ul">
<li>用法：df.loc[row_label, column_label]<br /></li>
<li>這種方式是基於標籤（label）的選取，適合用於對特定行列進行精準選取。基於行標籤和列標籤（x_label、y_label）進行索引，以 column 名做為 index<br /></li>
</ul>
<div class="org-src-container">
<pre class="src src-python"><span class="linenr"> 1: </span><span style="color: #51afef;">import</span> pandas <span style="color: #51afef;">as</span> pd
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#24478;&#36960;&#31471;&#35712;&#21462; CSV &#27284;&#26696;</span>
<span class="linenr"> 4: </span><span style="color: #dcaeea;">docURL</span> = <span style="color: #98be65;">'https://letranger.github.io/PythonCourse/scores.csv'</span>
<span class="linenr"> 5: </span><span style="color: #dcaeea;">df</span> = pd.read_csv(docURL)
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#26597;&#30475;&#21069;3&#34892;&#36039;&#26009;</span>
<span class="linenr"> 8: </span><span style="color: #c678dd;">print</span>(df.head(<span style="color: #da8548; font-weight: bold;">3</span>))
<span class="linenr"> 9: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"========"</span>)
<span class="linenr">10: </span>
<span class="linenr">11: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#20351;&#29992; loc &#36984;&#21462; 'homework' &#23567;&#26044; 25 &#30340;&#36039;&#26009;&#65292;&#20006;&#21482;&#39023;&#31034; 'id' &#21644; 'homework' &#20841;&#20491;&#27396;&#20301;</span>
<span class="linenr">12: </span><span style="color: #c678dd;">print</span>(df.loc[df.homework &lt; <span style="color: #da8548; font-weight: bold;">25</span>, [<span style="color: #98be65;">'id'</span>, <span style="color: #98be65;">'homework'</span>]])
<span class="linenr">13: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">"========"</span>)
<span class="linenr">14: </span>
<span class="linenr">15: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#20351;&#29992; loc &#36984;&#21462;&#31532; 2 &#34892;&#30340; 'homework' &#27396;&#20301;&#25976;&#20540;</span>
<span class="linenr">16: </span><span style="color: #c678dd;">print</span>(df.loc[<span style="color: #da8548; font-weight: bold;">2</span>, <span style="color: #98be65;">'homework'</span>])
</pre>
</div>

<pre class="example" id="org0b9d857">
           id  classparti  typing  homework  midexam  finalexam
0  S201910901         100      72     92.11     48.0       16.0
1  S201910902          96      56     93.42     60.0       40.0
2  S201910903          96      76    102.63     45.0       28.0
========
             id  homework
10   S201910911     20.39
23   S201910924     10.75
124  S201911315     15.35
========
102.63
</pre>
</div>
</div>
<div id="outline-container-orga7b1c50" class="outline-5">
<h5 id="orga7b1c50"><span class="section-number-5">5.4.1.2.</span> iloc</h5>
<div class="outline-text-5" id="text-5-4-1-2">
<ul class="org-ul">
<li>iloc 是基於行索引和列索引的數字位置來選取資料。這種方法使用索引的數值來選擇資料，從 0 開始計數，適合在你知道具體位置而非標籤時使用。<br /></li>
<li>用法：df.iloc[row_index, column_index]<br /></li>
<li>索引都是基於數字的位置，而不是標籤。<br /></li>
</ul>
<div class="org-src-container">
<pre class="src src-python"><span class="linenr"> 1: </span><span style="color: #51afef;">import</span> pandas <span style="color: #51afef;">as</span> pd
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#24478;&#36960;&#31471;&#35712;&#21462; CSV &#27284;&#26696;</span>
<span class="linenr"> 4: </span><span style="color: #dcaeea;">docURL</span> = <span style="color: #98be65;">'https://letranger.github.io/PythonCourse/scores.csv'</span>
<span class="linenr"> 5: </span><span style="color: #dcaeea;">df</span> = pd.read_csv(docURL)
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#20351;&#29992; iloc &#36984;&#21462;&#21069; 3 &#34892;&#36039;&#26009;</span>
<span class="linenr"> 8: </span><span style="color: #c678dd;">print</span>(df.iloc[:<span style="color: #da8548; font-weight: bold;">3</span>])
<span class="linenr"> 9: </span>
<span class="linenr">10: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#20351;&#29992; iloc &#36984;&#21462;&#21069; 2 &#34892;&#30340;&#31532; 2 &#21644;&#31532; 3 &#27396;&#36039;&#26009;</span>
<span class="linenr">11: </span><span style="color: #c678dd;">print</span>(df.iloc[:<span style="color: #da8548; font-weight: bold;">2</span>, <span style="color: #da8548; font-weight: bold;">1</span>:<span style="color: #da8548; font-weight: bold;">3</span>])
</pre>
</div>

<pre class="example">
           id  classparti  typing  homework  midexam  finalexam
0  S201910901         100      72     92.11     48.0       16.0
1  S201910902          96      56     93.42     60.0       40.0
2  S201910903          96      76    102.63     45.0       28.0
   classparti  typing
0         100      72
1          96      56
</pre>
</div>
</div>
<div id="outline-container-orgd9088fa" class="outline-5">
<h5 id="orgd9088fa"><span class="section-number-5">5.4.1.3.</span> between</h5>
<div class="outline-text-5" id="text-5-4-1-3">
<ul class="org-ul">
<li>between 方法可以用來篩選特定區間內的數值資料。例如，如果你需要篩選出某列的值位於某個範圍之間，可以使用 between 方法。<br /></li>
<li>用法：df[&rsquo;column&rsquo;].between(left, right, inclusive=True)<br /></li>
<li>這種方法會傳回布林值序列，表示每個值是否位於指定範圍內。<br /></li>
</ul>
<div class="org-src-container">
<pre class="src src-python"><span class="linenr"> 1: </span><span style="color: #51afef;">import</span> pandas <span style="color: #51afef;">as</span> pd
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#24478;&#36960;&#31471;&#35712;&#21462; CSV &#27284;&#26696;</span>
<span class="linenr"> 4: </span><span style="color: #dcaeea;">docURL</span> = <span style="color: #98be65;">'https://letranger.github.io/PythonCourse/scores.csv'</span>
<span class="linenr"> 5: </span><span style="color: #dcaeea;">df</span> = pd.read_csv(docURL)
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#20351;&#29992; between &#26041;&#27861;&#31721;&#36984;&#26399;&#20013;&#32771;&#25104;&#32318;&#22312; 50 &#21040; 60 &#20043;&#38291;&#30340;&#36039;&#26009;</span>
<span class="linenr"> 8: </span><span style="color: #c678dd;">print</span>(df[<span style="color: #98be65;">'midexam'</span>].between(<span style="color: #da8548; font-weight: bold;">50</span>, <span style="color: #da8548; font-weight: bold;">60</span>))
<span class="linenr"> 9: </span>
<span class="linenr">10: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#31721;&#36984;&#26399;&#20013;&#32771;&#25104;&#32318;&#22312; 50 &#21040; 55 &#20043;&#38291;&#30340;&#23416;&#29983;&#36039;&#26009;</span>
<span class="linenr">11: </span><span style="color: #dcaeea;">midFilter</span> = df[<span style="color: #98be65;">'midexam'</span>].between(<span style="color: #da8548; font-weight: bold;">50</span>, <span style="color: #da8548; font-weight: bold;">55</span>)
<span class="linenr">12: </span><span style="color: #c678dd;">print</span>(df[midFilter])
<span class="linenr">13: </span>
</pre>
</div>

<pre class="example" id="org4d6766d">
0      False
1       True
2      False
3      False
4      False
       ...
207    False
208    False
209    False
210    False
211    False
Name: midexam, Length: 212, dtype: bool
             id  classparti  typing  homework  midexam  finalexam
6    S201910907         101     120     92.11     55.0       20.0
65   S201911029          93      60     82.00     50.0       16.0
72   S201911036          88      80    102.63     53.0       76.0
92   S201911119          82     104     89.47     50.0       20.0
94   S201911121          95     100     88.51     52.0       72.0
109  S201911136          91     100     81.58     51.0        4.0
171  S201911626          98      72     97.37     50.0       75.0
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-org080b69d" class="outline-2">
<h2 id="org080b69d"><span class="section-number-2">6.</span> 進階分析</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-orgfe54059" class="outline-3">
<h3 id="orgfe54059"><span class="section-number-3">6.1.</span> 由其他 column 產生新的 column(重要、實用)</h3>
<div class="outline-text-3" id="text-6-1">
<p>
在資料分析過程中，我們經常需要從現有的資料欄位中計算出新的欄位，以便進行進一步的分析。Pandas 提供了靈活且簡便的方法來根據現有欄位生成新的欄位，這可以應用在加總、條件篩選和分組操作上。<br />
</p>
</div>
<div id="outline-container-orgb050032" class="outline-4">
<h4 id="orgb050032"><span class="section-number-4">6.1.1.</span> 生成新欄位 - 全部指定</h4>
<div class="outline-text-4" id="text-6-1-1">
<p>
我們可以使用運算符來操作 DataFrame 的欄位，並將結果存入新的欄位。這種方式適合應用於所有資料列，並且可以用於進行數值運算。<br />
</p>
</div>
<div id="outline-container-org849c4b6" class="outline-5">
<h5 id="org849c4b6"><span class="section-number-5">6.1.1.1.</span> 範例: 生成新欄位 Final（學期總分）</h5>
<div class="outline-text-5" id="text-6-1-1-1">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr"> 1: </span><span style="color: #51afef;">import</span> pandas <span style="color: #51afef;">as</span> pd
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#35712;&#21462;csv</span>
<span class="linenr"> 4: </span><span style="color: #dcaeea;">docURL</span> = <span style="color: #98be65;">'https://letranger.github.io/PythonCourse/scores.csv'</span>
<span class="linenr"> 5: </span><span style="color: #dcaeea;">df</span> = pd.read_csv(docURL)
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#35336;&#31639;&#23416;&#26399;&#32317;&#20998;&#65292;&#20006;&#29983;&#25104;&#26032;&#27396;&#20301; 'Final'</span>
<span class="linenr"> 8: </span><span style="color: #dcaeea;">df</span>[<span style="color: #98be65;">'Final'</span>] = df.classparti * <span style="color: #da8548; font-weight: bold;">0.1</span> + df.typing * <span style="color: #da8548; font-weight: bold;">0.1</span> + df.homework * <span style="color: #da8548; font-weight: bold;">0.2</span> + df.midexam * <span style="color: #da8548; font-weight: bold;">0.3</span> + df.finalexam * <span style="color: #da8548; font-weight: bold;">0.3</span>
<span class="linenr"> 9: </span>
<span class="linenr">10: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#26597;&#30475;&#26032;&#22686;&#30340;&#27396;&#20301;</span>
<span class="linenr">11: </span><span style="color: #c678dd;">print</span>(df.head())
</pre>
</div>

<pre class="example">
           id  classparti  typing  homework  midexam  finalexam   Final
0  S201910901         100      72     92.11     48.0       16.0  54.822
1  S201910902          96      56     93.42     60.0       40.0  63.884
2  S201910903          96      76    102.63     45.0       28.0  59.626
3  S201910904          93      64     86.84     44.0       25.0  53.768
4  S201910905          93      56     42.11      0.0       20.0  29.322
</pre>
</div>
</div>
</div>
<div id="outline-container-org9e201fa" class="outline-4">
<h4 id="org9e201fa"><span class="section-number-4">6.1.2.</span> 生成新欄位 - 條件指定</h4>
<div class="outline-text-4" id="text-6-1-2">
<p>
我們還可以根據條件來生成新欄位。使用 loc 方法，可以根據某欄位的值來篩選資料，並指定符合條件的資料對應的欄位值。例如，可以依據成績來指定 PASS 或 FAIL 狀態，或者依據打字速度來分類為 LOW、MID、HIGH。<br />
</p>
</div>
<div id="outline-container-org1d9b03e" class="outline-5">
<h5 id="org1d9b03e"><span class="section-number-5">6.1.2.1.</span> 範例: 依條件新增欄位 PASS 和 TypingSpeed</h5>
<div class="outline-text-5" id="text-6-1-2-1">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr"> 1: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#20381;&#23416;&#26399;&#32317;&#20998;&#26032;&#22686;&#19968;&#20491;&#27396;&#20301; 'PASS'</span>
<span class="linenr"> 2: </span>df.<span style="color: #dcaeea;">loc</span>[df.Final &lt; <span style="color: #da8548; font-weight: bold;">60</span>, <span style="color: #98be65;">'PASS'</span>] = <span style="color: #a9a1e1;">False</span>
<span class="linenr"> 3: </span>df.<span style="color: #dcaeea;">loc</span>[df.Final &gt;= <span style="color: #da8548; font-weight: bold;">60</span>, <span style="color: #98be65;">'PASS'</span>] = <span style="color: #a9a1e1;">True</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#20381;&#25818;&#25171;&#23383;&#36895;&#24230;&#26032;&#22686;&#19968;&#20491;&#20998;&#39006;&#27396;&#20301; 'TypingSpeed'</span>
<span class="linenr"> 6: </span>df.<span style="color: #dcaeea;">loc</span>[df.typing &lt; <span style="color: #da8548; font-weight: bold;">30</span>, <span style="color: #98be65;">'TypingSpeed'</span>] = <span style="color: #98be65;">'LOW'</span>
<span class="linenr"> 7: </span>df.<span style="color: #dcaeea;">loc</span>[df.typing.between(<span style="color: #da8548; font-weight: bold;">30</span>, <span style="color: #da8548; font-weight: bold;">60</span>), <span style="color: #98be65;">'TypingSpeed'</span>] = <span style="color: #98be65;">'MID'</span>
<span class="linenr"> 8: </span>df.<span style="color: #dcaeea;">loc</span>[df.typing &gt; <span style="color: #da8548; font-weight: bold;">60</span>, <span style="color: #98be65;">'TypingSpeed'</span>] = <span style="color: #98be65;">'HIGH'</span>
<span class="linenr"> 9: </span>
<span class="linenr">10: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#26597;&#30475;&#32080;&#26524;</span>
<span class="linenr">11: </span><span style="color: #c678dd;">print</span>(df.head(<span style="color: #da8548; font-weight: bold;">3</span>))
</pre>
</div>

<pre class="example">
           id  classparti  typing  homework  midexam  finalexam   Final   PASS TypingSpeed
0  S201910901         100      72     92.11     48.0       16.0  54.822  False        HIGH
1  S201910902          96      56     93.42     60.0       40.0  63.884   True         MID
2  S201910903          96      76    102.63     45.0       28.0  59.626  False        HIGH
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org5e8809e" class="outline-3">
<h3 id="org5e8809e"><span class="section-number-3">6.2.</span> 交叉分析：分組與資料轉置</h3>
<div class="outline-text-3" id="text-6-2">
</div>
<div id="outline-container-org9341a8c" class="outline-4">
<h4 id="org9341a8c"><span class="section-number-4">6.2.1.</span> 範例：依打字速度分組與資料統計</h4>
<div class="outline-text-4" id="text-6-2-1">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr"> 1: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#20381;&#25818;&#25171;&#23383;&#36895;&#24230;&#20998;&#32068;&#65292;&#35336;&#31639;&#27599;&#32068;&#30340;&#23416;&#26399;&#32317;&#20998;&#24179;&#22343;&#20540;</span>
<span class="linenr"> 2: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">'---&#20381;&#25171;&#23383;&#36895;&#24230;&#20998;&#32068;---'</span>)
<span class="linenr"> 3: </span><span style="color: #c678dd;">print</span>(df.groupby(<span style="color: #98be65;">'TypingSpeed'</span>)[<span style="color: #98be65;">'Final'</span>].mean())
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#20381;&#25818; PASS &#20998;&#32068;&#65292;&#35336;&#31639;&#25171;&#23383;&#25104;&#32318;&#21644;&#20316;&#26989;&#25104;&#32318;&#30340;&#24179;&#22343;&#20540;</span>
<span class="linenr"> 6: </span><span style="color: #c678dd;">print</span>(df.groupby(<span style="color: #98be65;">'PASS'</span>)[[<span style="color: #98be65;">'typing'</span>, <span style="color: #98be65;">'homework'</span>]].mean())
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#23559;&#32080;&#26524;&#36681;&#32622;&#65292;&#26597;&#30475;&#19981;&#21516;&#20998;&#32068;&#19979;&#30340;&#24179;&#22343;&#25171;&#23383;&#25104;&#32318;&#21644;&#20316;&#26989;&#25104;&#32318;</span>
<span class="linenr"> 9: </span><span style="color: #c678dd;">print</span>(<span style="color: #98be65;">'---&#32622;&#25563;row/column(&#36681;90&#24230;)---'</span>)
<span class="linenr">10: </span><span style="color: #c678dd;">print</span>(df.groupby(<span style="color: #98be65;">'PASS'</span>)[[<span style="color: #98be65;">'typing'</span>, <span style="color: #98be65;">'homework'</span>]].mean().T)
</pre>
</div>

<pre class="example" id="org007a971">
---依打字速度分組---
TypingSpeed
HIGH    69.977451
LOW     68.517333
MID     64.086303
Name: Final, dtype: float64
          typing   homework
PASS
False  77.567568  76.409054
True   84.525547  96.350730
---置換row/column(轉90度)---
PASS          False      True
typing    77.567568  84.525547
homework  76.409054  96.350730
</pre>
</div>
</div>
</div>
<div id="outline-container-org0ac24fd" class="outline-3">
<h3 id="org0ac24fd"><span class="section-number-3">6.3.</span> 資料檔下載: <a href="scores.csv">scores.csv</a></h3>
</div>
</div>
<div id="outline-container-orgcffce5f" class="outline-2">
<h2 id="orgcffce5f"><span class="section-number-2">7.</span> 資料視覺化</h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-org82a5f0c" class="outline-3">
<h3 id="org82a5f0c"><span class="section-number-3">7.1.</span> Bar chart</h3>
<div class="outline-text-3" id="text-7-1">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr"> 1: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#36617;&#20837;&#20989;&#24335;&#24235;</span>
<span class="linenr"> 2: </span><span style="color: #51afef;">import</span> pandas <span style="color: #51afef;">as</span> pd
<span class="linenr"> 3: </span><span style="color: #51afef;">import</span> matplotlib.pyplot <span style="color: #51afef;">as</span> plt
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#35712;&#21462;csv</span>
<span class="linenr"> 6: </span><span style="color: #dcaeea;">docURL</span> = <span style="color: #98be65;">'https://letranger.github.io/PythonCourse/scores.csv'</span>
<span class="linenr"> 7: </span><span style="color: #dcaeea;">df</span> = pd.read_csv(docURL)
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#35336;&#31639;&#32317;&#20998;'</span>
<span class="linenr">10: </span><span style="color: #dcaeea;">df</span>[<span style="color: #98be65;">'Final'</span>] = df.classparti*.<span style="color: #da8548; font-weight: bold;">1</span> + df.typing*.<span style="color: #da8548; font-weight: bold;">1</span> + df.homework*.<span style="color: #da8548; font-weight: bold;">2</span> + df.midexam*.<span style="color: #da8548; font-weight: bold;">3</span> + df.finalexam*.<span style="color: #da8548; font-weight: bold;">3</span>
<span class="linenr">11: </span>
<span class="linenr">12: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">create new column according to typing speed</span>
<span class="linenr">13: </span>df.<span style="color: #dcaeea;">loc</span>[df.typing &lt; <span style="color: #da8548; font-weight: bold;">30</span>, <span style="color: #98be65;">'TypingSpeed'</span> ] = <span style="color: #98be65;">'Level-1'</span>
<span class="linenr">14: </span>df.<span style="color: #dcaeea;">loc</span>[df.typing.between(<span style="color: #da8548; font-weight: bold;">30</span>, <span style="color: #da8548; font-weight: bold;">60</span>), <span style="color: #98be65;">'TypingSpeed'</span> ] = <span style="color: #98be65;">'Level-2'</span>
<span class="linenr">15: </span>df.<span style="color: #dcaeea;">loc</span>[df.typing &gt; <span style="color: #da8548; font-weight: bold;">60</span>, <span style="color: #98be65;">'TypingSpeed'</span> ] = <span style="color: #98be65;">'Level-3'</span>
<span class="linenr">16: </span>
<span class="linenr">17: </span><span style="color: #dcaeea;">x</span> = df.groupby(<span style="color: #98be65;">'TypingSpeed'</span>)[[<span style="color: #98be65;">'homework'</span>,<span style="color: #98be65;">'classparti'</span>]].mean()
<span class="linenr">18: </span><span style="color: #c678dd;">print</span>(x)
<span class="linenr">19: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#38364;&#26044;&#22294;&#34920;&#30340;&#23660;&#24615;&#35373;&#23450;&#26041;&#24335;</span>
<span class="linenr">20: </span><span style="color: #dcaeea;">fig</span> = df.groupby(<span style="color: #98be65;">'TypingSpeed'</span>)[[<span style="color: #98be65;">'homework'</span>,<span style="color: #98be65;">'classparti'</span>]].mean().plot(kind=<span style="color: #98be65;">'bar'</span>, title=<span style="color: #98be65;">"</span><span style="color: #a9a1e1; font-weight: bold;">XXX</span><span style="color: #98be65;">"</span>, rot=<span style="color: #da8548; font-weight: bold;">0</span>, legend=<span style="color: #a9a1e1;">True</span>)
<span class="linenr">21: </span>fig.set_xlabel(<span style="color: #98be65;">"Typing Speed"</span>)
<span class="linenr">22: </span>fig.set_ylabel(<span style="color: #98be65;">"score"</span>)
<span class="linenr">23: </span><span style="color: #5B6268;">#</span><span style="color: #5B6268;">savefig = fig.get_figure() # &#22914;&#26524;&#19981;&#23384;&#22294;&#27284;&#23601;&#19981;&#29992;&#35373;&#23450;&#36889;&#34892;</span>
<span class="linenr">24: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#38364;&#26044;&#22294;&#34920;&#30340;&#23660;&#24615;&#35373;&#23450;&#26041;&#24335;</span>
<span class="linenr">25: </span><span style="color: #dcaeea;">fig1</span> = df.groupby(<span style="color: #98be65;">'TypingSpeed'</span>)[[<span style="color: #98be65;">'homework'</span>,<span style="color: #98be65;">'classparti'</span>]].mean().T.plot(kind=<span style="color: #98be65;">'bar'</span>, title=<span style="color: #98be65;">"</span><span style="color: #a9a1e1; font-weight: bold;">XXX</span><span style="color: #98be65;">"</span>, rot=<span style="color: #da8548; font-weight: bold;">0</span>, legend=<span style="color: #a9a1e1;">True</span>)
<span class="linenr">26: </span>fig1.set_xlabel(<span style="color: #98be65;">"Subject"</span>)
<span class="linenr">27: </span>fig1.set_ylabel(<span style="color: #98be65;">"score"</span>)
<span class="linenr">28: </span><span style="color: #5B6268;">#</span><span style="color: #5B6268;">savefig1 = fig1.get_figure()# &#22914;&#26524;&#19981;&#23384;&#22294;&#27284;&#23601;&#19981;&#29992;&#35373;&#23450;&#36889;&#34892;</span>
<span class="linenr">29: </span>
<span class="linenr">30: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#22914;&#26524;&#19981;&#23384;&#22294;&#27284;&#23601;&#19981;&#29992;&#22519;&#34892;&#20197;&#19979;&#31243;&#24335;</span>
<span class="linenr">31: </span>savefig.savefig(<span style="color: #98be65;">'images/pandasPlot1.png'</span>, bbox_inches=<span style="color: #98be65;">'tight'</span>)
<span class="linenr">32: </span>savefig1.savefig(<span style="color: #98be65;">'images/pandasPlot10.png'</span>, bbox_inches=<span style="color: #98be65;">'tight'</span>)
</pre>
</div>

<pre class="example">
              homework  classparti
TypingSpeed
Level-1      96.053333   87.666667
Level-2      85.273939   88.696970
Level-3      90.053920   93.159091
</pre>


<div id="orgef40a6a" class="figure">
<p><img src="images/pandasPlot1.png" alt="pandasPlot1.png" width="500" /><br />
</p>
<p><span class="figure-number">Figure 2: </span>Pandas plot bar chart</p>
</div>

<div id="orgfddcdc8" class="figure">
<p><img src="images/pandasPlot10.png" alt="pandasPlot10.png" width="500" /><br />
</p>
<p><span class="figure-number">Figure 3: </span>Pandas plot bar chart</p>
</div>
</div>
</div>
<div id="outline-container-org93b0a8e" class="outline-3">
<h3 id="org93b0a8e"><span class="section-number-3">7.2.</span> Regression line chart</h3>
<div class="outline-text-3" id="text-7-2">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr"> 1: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#36617;&#20837;&#20989;&#24335;&#24235;</span>
<span class="linenr"> 2: </span><span style="color: #51afef;">import</span> pandas <span style="color: #51afef;">as</span> pd
<span class="linenr"> 3: </span><span style="color: #51afef;">import</span> seaborn <span style="color: #51afef;">as</span> sns
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#35712;&#21462;csv</span>
<span class="linenr"> 6: </span><span style="color: #dcaeea;">docURL</span> = <span style="color: #98be65;">'https://letranger.github.io/PythonCourse/scores.csv'</span>
<span class="linenr"> 7: </span><span style="color: #dcaeea;">df</span> = pd.read_csv(docURL)
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>sns.regplot(x=<span style="color: #98be65;">"midexam"</span>, y=<span style="color: #98be65;">'finalexam'</span>, data=df);
<span class="linenr">10: </span>
<span class="linenr">11: </span><span style="color: #5B6268;">#</span><span style="color: #5B6268;">fig = sns.regplot(x="midexam", y='finalexam', data=df);</span>
<span class="linenr">12: </span><span style="color: #5B6268;">#</span><span style="color: #5B6268;">savefig = fig.get_figure()</span>
<span class="linenr">13: </span><span style="color: #5B6268;">#</span><span style="color: #5B6268;">savefig.savefig('images/PandasPlot4.png')</span>
<span class="linenr">14: </span>
</pre>
</div>


<div id="orgdeacbc9" class="figure">
<p><img src="images/PandasPlot4.png" alt="PandasPlot4.png" width="500" /><br />
</p>
<p><span class="figure-number">Figure 4: </span>Pandas plot scatter chart</p>
</div>
</div>
</div>
<div id="outline-container-org44058e8" class="outline-3">
<h3 id="org44058e8"><span class="section-number-3">7.3.</span> Pie chart</h3>
<div class="outline-text-3" id="text-7-3">
</div>
<div id="outline-container-org4b94c12" class="outline-4">
<h4 id="org4b94c12"><span class="section-number-4">7.3.1.</span> DEMO</h4>
<div class="outline-text-4" id="text-7-3-1">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr"> 1: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#36617;&#20837;&#20989;&#24335;&#24235;</span>
<span class="linenr"> 2: </span><span style="color: #51afef;">import</span> pandas <span style="color: #51afef;">as</span> pd
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#35712;&#21462;csv</span>
<span class="linenr"> 5: </span><span style="color: #dcaeea;">docURL</span> = <span style="color: #98be65;">'https://letranger.github.io/PythonCourse/scores.csv'</span>
<span class="linenr"> 6: </span><span style="color: #dcaeea;">df</span> = pd.read_csv(docURL)
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#35336;&#31639;&#32317;&#20998;'</span>
<span class="linenr"> 9: </span><span style="color: #dcaeea;">df</span>[<span style="color: #98be65;">'Final'</span>] = df.classparti*.<span style="color: #da8548; font-weight: bold;">1</span> + df.typing*.<span style="color: #da8548; font-weight: bold;">1</span> + df.homework*.<span style="color: #da8548; font-weight: bold;">2</span> + df.midexam*.<span style="color: #da8548; font-weight: bold;">3</span> + df.finalexam*.<span style="color: #da8548; font-weight: bold;">3</span>
<span class="linenr">10: </span>
<span class="linenr">11: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">create new column according to typing speed</span>
<span class="linenr">12: </span>df.<span style="color: #dcaeea;">loc</span>[df.typing &lt; <span style="color: #da8548; font-weight: bold;">60</span>, <span style="color: #98be65;">'TypingSpeed'</span> ] = <span style="color: #98be65;">'Level-1'</span>
<span class="linenr">13: </span>df.<span style="color: #dcaeea;">loc</span>[df.typing.between(<span style="color: #da8548; font-weight: bold;">60</span>, <span style="color: #da8548; font-weight: bold;">80</span>), <span style="color: #98be65;">'TypingSpeed'</span> ] = <span style="color: #98be65;">'Level-2'</span>
<span class="linenr">14: </span>df.<span style="color: #dcaeea;">loc</span>[df.typing &gt; <span style="color: #da8548; font-weight: bold;">80</span>, <span style="color: #98be65;">'TypingSpeed'</span> ] = <span style="color: #98be65;">'Level-3'</span>
<span class="linenr">15: </span><span style="color: #c678dd;">print</span>(df.groupby(<span style="color: #98be65;">'TypingSpeed'</span>).count())
<span class="linenr">16: </span>df.groupby(<span style="color: #98be65;">'TypingSpeed'</span>)[<span style="color: #98be65;">'TypingSpeed'</span>].count().plot(kind=<span style="color: #98be65;">'pie'</span>, title=<span style="color: #98be65;">"</span><span style="color: #a9a1e1; font-weight: bold;">XXX</span><span style="color: #98be65;">"</span>, rot=<span style="color: #da8548; font-weight: bold;">0</span>, legend=<span style="color: #a9a1e1;">True</span>)
<span class="linenr">17: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#22914;&#26524;&#19981;&#23384;&#22294;&#27284;&#23601;&#19981;&#29992;&#22519;&#34892;&#20197;&#19979;&#31243;&#24335;</span>
<span class="linenr">18: </span><span style="color: #5B6268;">#</span><span style="color: #5B6268;">fig = df.groupby('TypingSpeed')['TypingSpeed'].count().plot(kind='pie', title="</span><span style="color: #a9a1e1; font-weight: bold;">XXX</span><span style="color: #5B6268;">", rot=0, legend=True)</span>
<span class="linenr">19: </span><span style="color: #5B6268;">#</span><span style="color: #5B6268;">savefig = fig.get_figure()</span>
<span class="linenr">20: </span><span style="color: #5B6268;">#</span><span style="color: #5B6268;">savefig.savefig('images/pandasPlot2.png', bbox_inches='tight')</span>
</pre>
</div>

<div class="results" id="orgdd5f771">
<p>
              id  classparti  typing  homework  midexam  finalexam  Final<br />
TypingSpeed<br />
Level-1       25          25      25        25       25         25     25<br />
Level-2       86          86      86        86       86         86     86<br />
Level-3      101         101     101       101      100        101    100<br />
</p>

</div>


<div id="orgcf9f039" class="figure">
<p><img src="images/pandasPlot2.png" alt="pandasPlot2.png" width="300" /><br />
</p>
<p><span class="figure-number">Figure 5: </span>Pandas plot pie chart</p>
</div>
</div>
</div>
<div id="outline-container-orgf33df7e" class="outline-4">
<h4 id="orgf33df7e"><span class="section-number-4">7.3.2.</span> 如何避免圖例擋住圖表</h4>
<div class="outline-text-4" id="text-7-3-2">
<ul class="org-ul">
<li><a href="https://stackoverflow.com/questions/4700614/how-to-put-the-legend-out-of-the-plot">How to put the legend out of the plot</a><br /></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orga98c722" class="outline-3">
<h3 id="orga98c722"><span class="section-number-3">7.4.</span> Scatter chart</h3>
<div class="outline-text-3" id="text-7-4">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr"> 1: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#36617;&#20837;&#20989;&#24335;&#24235;</span>
<span class="linenr"> 2: </span><span style="color: #51afef;">import</span> pandas <span style="color: #51afef;">as</span> pd
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#35712;&#21462;csv</span>
<span class="linenr"> 5: </span><span style="color: #dcaeea;">docURL</span> = <span style="color: #98be65;">'https://letranger.github.io/PythonCourse/scores.csv'</span>
<span class="linenr"> 6: </span><span style="color: #dcaeea;">df</span> = pd.read_csv(docURL)
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>df[[<span style="color: #98be65;">'midexam'</span>,<span style="color: #98be65;">'finalexam'</span>]].plot(kind=<span style="color: #98be65;">'scatter'</span>, x=<span style="color: #da8548; font-weight: bold;">1</span>, y=<span style="color: #da8548; font-weight: bold;">0</span>)
<span class="linenr"> 9: </span><span style="color: #dcaeea;">fig</span> = df[[<span style="color: #98be65;">'midexam'</span>,<span style="color: #98be65;">'finalexam'</span>]].plot(kind=<span style="color: #98be65;">'scatter'</span>, x=<span style="color: #da8548; font-weight: bold;">1</span>, y=<span style="color: #da8548; font-weight: bold;">0</span>)
<span class="linenr">10: </span>
<span class="linenr">11: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#22914;&#26524;&#19981;&#23384;&#22294;&#27284;&#23601;&#19981;&#29992;&#22519;&#34892;&#20197;&#19979;&#31243;&#24335;</span>
<span class="linenr">12: </span><span style="color: #5B6268;">#</span><span style="color: #5B6268;">savefig = fig.get_figure()</span>
<span class="linenr">13: </span><span style="color: #5B6268;">#</span><span style="color: #5B6268;">savefig.savefig('images/PandasPlot3.png')</span>
</pre>
</div>


<div id="orgbfbaa38" class="figure">
<p><img src="images/PandasPlot3.png" alt="PandasPlot3.png" width="500" /><br />
</p>
<p><span class="figure-number">Figure 6: </span>Pandas plot scatter chart</p>
</div>
</div>
</div>
<div id="outline-container-orge74e393" class="outline-3">
<h3 id="orge74e393"><span class="section-number-3">7.5.</span> Haxbin chart</h3>
<div class="outline-text-3" id="text-7-5">
<div class="org-src-container">
<pre class="src src-python"><span class="linenr"> 1: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#36617;&#20837;&#20989;&#24335;&#24235;</span>
<span class="linenr"> 2: </span><span style="color: #51afef;">import</span> pandas <span style="color: #51afef;">as</span> pd
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #5B6268;"># </span><span style="color: #5B6268;">&#35712;&#21462;csv</span>
<span class="linenr"> 5: </span><span style="color: #dcaeea;">docURL</span> = <span style="color: #98be65;">'https://letranger.github.io/PythonCourse/scores.csv'</span>
<span class="linenr"> 6: </span><span style="color: #dcaeea;">df</span> = pd.read_csv(docURL)
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>df[[<span style="color: #98be65;">'midexam'</span>,<span style="color: #98be65;">'finalexam'</span>]].plot(kind=<span style="color: #98be65;">'hexbin'</span>, x=<span style="color: #da8548; font-weight: bold;">1</span>, y=<span style="color: #da8548; font-weight: bold;">0</span>, gridsize=<span style="color: #da8548; font-weight: bold;">25</span>)
<span class="linenr"> 9: </span>
<span class="linenr">10: </span><span style="color: #dcaeea;">fig</span> = df[[<span style="color: #98be65;">'midexam'</span>,<span style="color: #98be65;">'finalexam'</span>]].plot(kind=<span style="color: #98be65;">'hexbin'</span>, x=<span style="color: #da8548; font-weight: bold;">1</span>, y=<span style="color: #da8548; font-weight: bold;">0</span>, gridsize=<span style="color: #da8548; font-weight: bold;">25</span>)
<span class="linenr">11: </span><span style="color: #5B6268;">#</span><span style="color: #5B6268;">savefig = fig.get_figure()</span>
<span class="linenr">12: </span><span style="color: #5B6268;">#</span><span style="color: #5B6268;">savefig.savefig('images/PandasPlot6.png')</span>
</pre>
</div>


<div id="org0da8d37" class="figure">
<p><img src="images/PandasPlot6.png" alt="PandasPlot6.png" width="500" /><br />
</p>
<p><span class="figure-number">Figure 7: </span>Pandas plot hexbin chart</p>
</div>
</div>
</div>
</div>
<div id="outline-container-orgde953d8" class="outline-2">
<h2 id="orgde953d8"><span class="section-number-2">8.</span> [課堂練習]&#xa0;&#xa0;&#xa0;<span class="tag"><span class="TNFSH">TNFSH</span></span></h2>
<div class="outline-text-2" id="text-8">
</div>
<div id="outline-container-org9e82a6d" class="outline-3">
<h3 id="org9e82a6d"><span class="section-number-3">8.1.</span> 403期中考得分統計</h3>
<div class="outline-text-3" id="text-8-1">
<ul class="org-ul">
<li>原始數據<br /></li>
</ul>

<div id="orgf5f680a" class="figure">
<p><img src="images/csv.jpg" alt="csv.jpg" width="500" /><br />
</p>
<p><span class="figure-number">Figure 8: </span>CSV 內容</p>
</div>
<ul class="org-ul">
<li><a href="cs109score.csv">cs109score.csv</a>為 T 市某校的資訊科線上期中考系統所匯出的成績檔，該次考試共計 10 題，其中<br />
<ul class="org-ul">
<li>前 5 題(A,B,C,D,E)為基本題，每題 100 分，<br /></li>
<li>後 4 題為加分題(Bonus1~Bonus4)，每題 25 分<br /></li>
<li>本份考卷總分：600；<br /></li>
<li>總得分除以 5 即為期中考得分<br /></li>
<li>此次期中考總分 120分。<br /></li>
</ul></li>
</ul>
</div>
<div id="outline-container-orga2e76ec" class="outline-4">
<h4 id="orga2e76ec"><span class="section-number-4">8.1.1.</span> 任務 1 (10%):</h4>
<div class="outline-text-4" id="text-8-1-1">
<ul class="org-ul">
<li>將有缺失值的部份以 0 分取代。<br /></li>
<li>直接輸出前10筆資料<br /></li>
</ul>
</div>
</div>
<div id="outline-container-orgd8744c2" class="outline-4">
<h4 id="orgd8744c2"><span class="section-number-4">8.1.2.</span> 任務 2 (20%):</h4>
<div class="outline-text-4" id="text-8-1-2">
<ul class="org-ul">
<li>求出每個人的原始總分(即所有分數)，新增的欄位名稱為TOTAL<br /></li>
<li>新增欄位SCORE, 其值為每個人的實際得分(原始總分TOTAL除以 5)<br /></li>
<li>直接輸出前10筆資料<br /></li>
</ul>
</div>
</div>
<div id="outline-container-org5b253fa" class="outline-4">
<h4 id="org5b253fa"><span class="section-number-4">8.1.3.</span> 任務 3 (20%):</h4>
<div class="outline-text-4" id="text-8-1-3">
<p>
求所有受試者第 B 及 B1 兩題的 scatter plot 以及 regression line。如下圖:<br />
</p>

<div id="orgafdef91" class="figure">
<p><img src="images/task8.png" alt="task8.png" width="560" /><br />
</p>
<p><span class="figure-number">Figure 9: </span>任務3</p>
</div>
</div>
</div>
<div id="outline-container-org8abbd98" class="outline-4">
<h4 id="org8abbd98"><span class="section-number-4">8.1.4.</span> 任務 4 (30%):</h4>
<div class="outline-text-4" id="text-8-1-4">
<ul class="org-ul">
<li>新增ABILITY欄位，依以下條件填入類別<br />
<ul class="org-ul">
<li>SCORE &lt;= 50, ABILITY: &rsquo;LEVEL-1&rsquo;<br /></li>
<li>50 &lt; SCORE &lt; 80, ABILITY: &rsquo;LEVEL-2&rsquo;<br /></li>
<li>SCORE &gt;= 80, ABILITY: &rsquo;LEVEL-3&rsquo;<br /></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orga2c1220" class="outline-4">
<h4 id="orga2c1220"><span class="section-number-4">8.1.5.</span> 任務 5 (20%):</h4>
<div class="outline-text-4" id="text-8-1-5">
<p>
交叉分析，依ABILITY分組，查看此三組學生的前三題(A, B, C)得分情況，並繪製圖表<br />
</p>

<div id="org364d150" class="figure">
<p><img src="images/pandastask5.png" alt="pandastask5.png" width="500" /><br />
</p>
<p><span class="figure-number">Figure 10: </span>任務5</p>
</div>
</div>
</div>
</div>
<div id="outline-container-orgcf3ceea" class="outline-3">
<h3 id="orgcf3ceea"><span class="section-number-3">8.2.</span> 進階練習</h3>
<div class="outline-text-3" id="text-8-2">
<p>
一dataframe如下<br />
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="color: #51afef;">import</span> numpy <span style="color: #51afef;">as</span> np
<span style="color: #51afef;">import</span> pandas <span style="color: #51afef;">as</span> pd
<span style="color: #dcaeea;">scores</span> = {<span style="color: #98be65;">'Math'</span>: [<span style="color: #da8548; font-weight: bold;">900</span>, <span style="color: #da8548; font-weight: bold;">50</span>, <span style="color: #da8548; font-weight: bold;">70</span>, <span style="color: #da8548; font-weight: bold;">80</span>],
          <span style="color: #98be65;">'English'</span>: [<span style="color: #da8548; font-weight: bold;">60</span>, <span style="color: #da8548; font-weight: bold;">30</span>, <span style="color: #da8548; font-weight: bold;">90</span>, <span style="color: #da8548; font-weight: bold;">50</span>],
          <span style="color: #98be65;">'History'</span>: [<span style="color: #da8548; font-weight: bold;">33</span>, <span style="color: #da8548; font-weight: bold;">75</span>, np.NaN, np.NaN]}
<span style="color: #dcaeea;">df</span> = pd.DataFrame(scores, index=[<span style="color: #98be65;">'Simon'</span>, <span style="color: #98be65;">'Allen'</span>, <span style="color: #98be65;">'Jimmy'</span>, <span style="color: #98be65;">'Vanessa'</span>])
</pre>
</div>
<p>
試解決以下問題：<br />
</p>
<ol class="org-ol">
<li>列出Math分數&gt;100資料<br /></li>
<li>將Siman之Math改為90分<br /></li>
<li>計算History遺漏值筆數<br /></li>
<li>以History平均值取代History中遺漏值<br /></li>
<li>新增&ldquo;平均&rdquo;欄位，計算四人各科平均<br /></li>
<li>新增&ldquo;名次&rdquo;欄位，以四人平均分數為排序依據<br /></li>
<li>列出平均不及格者<br /></li>
<li>列出數學最高分者姓名<br /></li>
</ol>
</div>
</div>
</div>
<div id="outline-container-org366ad08" class="outline-2">
<h2 id="org366ad08"><span class="section-number-2">9.</span> 教學影片</h2>
<div class="outline-text-2" id="text-9">
<ul class="org-ul">
<li><a href="https://www.youtube.com/watch?v=GClDLt2TCQA">4-4 假的成績真的算</a><br /></li>
<li><a href="https://www.youtube.com/watch?v=GGxahUW6nF4">4-3 拿真的資料出來玩</a><br /></li>
</ul>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://blog.csdn.net/qq_18668137/article/details/80807829">conda、miniconda、anaconda的區別以及在pycharm中選擇conda的虛擬環境</a><br />
</p></div></div>

<div class="footdef"><sup><a id="fn.2" class="footnum" href="#fnr.2" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://oranwind.org/python-pandas-ji-chu-jiao-xue/">[Python] Pandas 基礎教學</a><br />
</p></div></div>

<div class="footdef"><sup><a id="fn.3" class="footnum" href="#fnr.3" role="doc-backlink">3</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
DEFINITION NOT FOUND.<br />
</p></div></div>

<div class="footdef"><sup><a id="fn.4" class="footnum" href="#fnr.4" role="doc-backlink">4</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://yhtechnote.com/python-pandas/#Series_vs_DataFrame">簡單 Python Pandas 教學：資料科學的入門課</a><br />
</p></div></div>

<div class="footdef"><sup><a id="fn.5" class="footnum" href="#fnr.5" role="doc-backlink">5</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://ithelp.ithome.com.tw/articles/10208412">Day23- 資料處理模組-Pandas 介紹</a><br />
</p></div></div>


</div>
</div></div>
<div id="postamble" class="status">
<p class="author">Author: Yung-Chin Yen</p>
<p class="date">Created: 2024-09-27 Fri 16:49</p>
</div>
</body>
</html>
